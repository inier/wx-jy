{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dev/game.ts","webpack:///./src/control.ts","webpack:///./src/descript.ts","webpack:///./src/gameOver.ts","webpack:///./src/index.ts","webpack:///./src/jy.ts","webpack:///./src/lib.ts","webpack:///./src/score.ts","webpack:///./src/sprite.ts","webpack:///./src/stage.ts","webpack:///./src/title.ts"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;;;;;;;;;;;;AClFA,0EAMsB;AACtB,oEAA6B;AAC7B,iEAAkC;AAClC,MAAM,MAAM,GAAG,EAAE,CAAC,YAAY,EAAE,CAAC;AACjC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC;AACrD,0CAA0C;AAC1C,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACxC,MAAM;AACN,IAAI,KAAK,GAAG,IAAI,aAAK,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;AACzD,IAAI,KAAK,GAAG,IAAI,aAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AACpC,KAAK,CAAC,MAAM,GAAG,CAAC,OAAO,EAAE,EAAE;IACvB,aAAG,CAAC,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC;IAC1B,OAAO,EAAE,CAAC;AACd,CAAC;AACD,IAAI,QAAQ,GAAG,IAAI,gBAAQ,CAAC,KAAK,CAAC;AAClC,QAAQ,CAAC,MAAM,GAAG,CAAO,OAAO,EAAE,EAAE;IAChC,aAAG,CAAC,IAAI,CAAC,KAAK,EAAE,qBAAqB,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC;IACvE,8BAA8B;IAC9B,eAAe;IACf,IAAI,GAAG,GAAG,IAAI,cAAM,CAAC,sBAAsB,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,EAAE,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAC3F,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChB,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,EAAE;QAClB,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE;YAClB,EAAE,CAAC,aAAa,EAAE,CAAC;YACnB,OAAO,EAAE;SACZ;IACL,CAAC,CAAC,CAAC;AACP,CAAC;AACD,MAAM,IAAK,SAAQ,UAAE;IACjB,OAAO;QACH,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;YAChB,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;YAC7B,OAAO,CAAC,GAAG,CAAC,OAAO,EAAC,OAAO,CAAC;QAChC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,UAAK,CAAC,OAAO,CAAC;IAChC,CAAC;IACK,OAAO;;YACT,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;YACzB,MAAM,aAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,UAAK,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC;KAAA;IACK,QAAQ;;YACV,KAAK,CAAC,KAAK,EAAE,CAAC;YACd,aAAG,CAAC,KAAK,CAAC,KAAK,EAAC,OAAO,CAAC,CAAC;YACzB,MAAM,aAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,UAAK,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC;KAAA;CACJ;AAED,IAAI,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;;;;;;;;;;;;;;;ACtDjC,MAAM;AACN,MAAqB,OAAO;IAA5B;QAEI,SAAI,GAAkB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QAEjC,aAAQ,GAAkB,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAGnC,iBAAY,GAAkB,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAG/B,UAAK,GAAQ,CAAC,CAAC,KAAI;IAwF/B,CAAC;IAtFG,MAAM;QACF,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QAC5C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QAClD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;QACpD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC;QACjC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC1C,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QACpD,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QACrD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAS,IAAI,OAAO,CAAC,GAAG,CAAC,EAAC,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAS,IAAI,OAAO,CAAC,GAAG,CAAC,EAAC,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IACD,QAAQ;QACJ,MAAM;QACN,+BAA+B;QAC/B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACzB,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IACD,YAAY;IACZ,aAAa;QACT,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACvE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC;IAEvC,CAAC;IACD,SAAS;QACL,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,UAAU,KAAgB;YAC/D,IAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC;YACrC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;QAC1B,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,UAAU,KAAgB;YAC9D,IAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC;YACrC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;QACrB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAU,KAAgB;YAC7D,IAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IACzB,CAAC;IACD,aAAa;IACb,WAAW,CAAC,IAAU;QAClB,IAAI,CAAC,QAAQ,GAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC7D,IAAI,CAAC,GAAW,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtC,mDAAmD;QACnD,qCAAqC;QACrC,IAAI,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,WAAU;QAC5C,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QACnC,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC;QACnB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAC7B,oBAAoB;QACpB,yBAAyB;QACzB,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;QACrC,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,OAAM;QACtD,IAAI,CAAC,GAAG,CAAC,EAAE;YACP,wBAAwB;YACxB,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAC3B,IAAI,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YAC3B,UAAU;YACV,aAAa;YACb,cAAc;YACd,6BAA6B;YAC7B,8BAA8B;YAC9B,EAAE,GAAG,EAAE,CAAC;YACR,EAAE,GAAG,EAAE,CAAC;SACX;QACD,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;QAC3B,IAAI,CAAC,aAAa,EAAE;IACxB,CAAC;IACD,QAAQ;QACJ,+BAA+B;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IACD,OAAO;IACP,MAAM;QACF,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;CACJ;AAlGD,0BAkGC;;;;;;;;;;;;;;;AClGD,MAAM;AACN,MAAqB,QAAQ;IACzB,YAAmB,KAAW;QAAX,UAAK,GAAL,KAAK,CAAM;QAC1B,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;IAC1B,CAAC;IACD,MAAM,CAAC,OAAgB;QACpB,EAAE,CAAC,YAAY,CAAC,GAAG,EAAE;YAChB,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;YACvB,EAAE,CAAC,aAAa,EAAE,CAAC;YACnB,OAAO,EAAE;QACb,CAAC,CAAC;IACN,CAAC;IACD,MAAM;QACF,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;CACJ;AAdD,2BAcC;;;;;;;;;;;;;;;AChBD,MAAqB,QAAQ;IAGzB,YAAmB,QAAgB;QAAhB,aAAQ,GAAR,QAAQ,CAAQ;IAEnC,CAAC;IACD,MAAM,CAAC,QAAmB,EAAE,OAAe,EAAE;QACzC,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC;QACjC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC3C,GAAG,CAAC,SAAS,GAAG,QAAQ;QACxB,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;QAC9B,GAAG,CAAC,gBAAgB,CAAC,YAAY,EAAE,UAAU,KAAgB;YACzD,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;QACvB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,KAAK,CAAC,CAAC;QACpB,qCAAqC;QACrC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;QAC1B,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IACD,OAAO,CAAC,OAAe,EAAE;QACrB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;IACnC,CAAC;IACD,MAAM;QACF,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;CAEJ;AA9BD,2BA8BC;;;;;;;;;;;;;;;AChCD,4DAAsB;AAUlB,aAVG,YAAE,CAUH;AATN,2EAAgC;AAU5B,kBAVG,iBAAO,CAUH;AATX,8EAAkC;AAU9B,mBAVG,kBAAQ,CAUH;AATZ,8EAAkC;AAU9B,mBAVG,kBAAQ,CAUH;AARZ,qEAA4B;AAUxB,gBAVG,eAAK,CAUH;AATT,wEAA8B;AAU1B,iBAVG,gBAAM,CAUH;AATV,qEAA4B;AAUxB,gBAVG,eAAK,CAUH;AATT,qEAA4B;AAUxB,gBAVG,eAAK,CAUH;;;;;;;;;;;;;;;;;;;;;;;;AClBT;;;;;;;;EAQE;AACF,wEAAyC;AAMzC,qEAA4B;AAC5B,+DAAwB;AAExB,OAAO;AACP,IAAY,KAOX;AAPD,WAAY,KAAK;IACb,uCAAO;IACP,mCAAK;IACL,yCAAQ;IACR,uCAAO;IACP,uCAAO;IACP,yCAAQ;AACZ,CAAC,EAPW,KAAK,GAAL,aAAK,KAAL,aAAK,QAOhB;AACD,MAAqB,EAAE;IASnB,YAAmB,KAAY,EAAS,UAAkB,EAAS,aAAwB,EAAS,aAAwB,EAAS,YAAsB;QAAxI,UAAK,GAAL,KAAK,CAAO;QAAS,eAAU,GAAV,UAAU,CAAQ;QAAS,kBAAa,GAAb,aAAa,CAAW;QAAS,kBAAa,GAAb,aAAa,CAAW;QAAS,iBAAY,GAAZ,YAAY,CAAU;QARnJ,SAAI,GAAa,IAAI,QAAQ,CAAC;QAI9B,YAAO,GAAY,KAAK,CAAC,WAAU;QACjC,aAAQ,GAAW,EAAE,CAAC;QAI5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;QAC7B,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IACD,KAAK;QACD,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QAClB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,OAAO,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC7B,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IACD,UAAU;IACJ,IAAI;;YACN,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACf,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;aACrB;YACD,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,qBAAqB,CACrC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CACvB;QACL,CAAC;KAAA;IACD,MAAM;IACN,SAAS;QACL,IAAI,CAAC,WAAW,GAAG,IAAI,eAAK,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IACD,aAAa;IACb,CAAC;IACD,MAAM;IACI,OAAO;QACb,WAAW;QACX,OAAO;QACP,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC;IACD,KAAK;IACK,IAAI;QACV,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC;IACD,IAAI;IACM,KAAK;QACX,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC5C,CAAC;IACD,QAAQ;IACE,IAAI;QACV,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IACD,MAAM;IACI,QAAQ;QACd,MAAM;QACN,WAAW;QACX,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACxB,6BAA6B;QAC7B,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QACnB,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IACD,MAAM;IACA,YAAY;;YACd,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC;YAC5B,MAAM,aAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QAC/B,CAAC;KAAA;IACD,MAAM;IACN,OAAO;QACH,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC;IAC7B,CAAC;IACK,OAAO;;YACT,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC;YAC1B,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC;QAC9B,CAAC;KAAA;IACD,WAAW;QACP,aAAG,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC;QAC9B,OAAO,aAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IACK,KAAK;;YACP,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACzB,MAAM,IAAI,CAAC,SAAS,EAAE,CAAC;YACvB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC;KAAA;IACD,SAAS;QACL,2BAA2B;QAC3B,+BAA+B;QAC/B,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;YACzB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACP,CAAC;IACK,QAAQ;;YACV,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YAC3B,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACjC,CAAC;KAAA;IACD,YAAY;QACR,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;YACzB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;QACH,+BAA+B;IACnC,CAAC;IACD,KAAK,CAAC,SAAmB;QACrB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;QACnB,OAAO,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IACD,MAAM;IACN,UAAU;QACN,QAAQ,IAAI,CAAC,YAAY,EAAE;YACvB,KAAK,KAAK,CAAC,OAAO;gBACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACrC,MAAM;YACV,KAAK,KAAK,CAAC,KAAK;gBACZ,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACnC,MAAM;YACV,KAAK,KAAK,CAAC,QAAQ;gBACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACtC,MAAM;YACV,KAAK,KAAK,CAAC,OAAO;gBACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACrC,MAAM;YACV,KAAK,KAAK,CAAC,OAAO;gBACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBACrC,MAAM;YACV,KAAK,KAAK,CAAC,QAAQ;gBACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1C;gBACI,MAAM;SACb;IACL,CAAC;IACD,QAAQ,CAAC,KAAa;QAClB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IACD,MAAM;IACN,IAAI,CAAC,EAAU,EAAE,EAAU;QACvB,IAAI,EAAE,GAAG,KAAK,EACV,EAAE,GAAG,KAAK,CAAC;QACf,IAAI,EAAE,CAAC,KAAK,IAAI,cAAK,CAAC,IAAI,EAAE;YACxB,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;YACd,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;YACd,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;YACd,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;YACd,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE;gBACb,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;aACzB;iBAAM,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE;gBACpB,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;aACzB;iBAAM;gBACH,EAAE,GAAG,IAAI,CAAC;aACb;YAAA,CAAC;YACF,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE;gBACb,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;aACzB;iBAAM,IAAI,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE;gBACpB,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC;aACzB;iBAAM;gBACH,EAAE,GAAG,IAAI,CAAC;aACb;YAAA,CAAC;YACF,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;SACrB;aAAM,IAAI,EAAE,CAAC,KAAK,IAAI,cAAK,CAAC,MAAM,EAAE;YACjC,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACrB,IAAI,GAAG,GAAG,EAAE,CAAC,SAAS,EAAE,CAAC;YACzB,IAAI,GAAG,GAAG,EAAE,CAAC,SAAS,EAAE,CAAC;YACzB,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;YACpC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;YACpC,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;SACrB;IACL,CAAC;CACJ;AA1KD,qBA0KC;;;;;;;;;;;;;;;;;;;;;;;;ACnMD,kBAAe;IACX;;MAEE;IACF,QAAQ;IACF,UAAU,CAAC,MAAc;;YAC3B,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE;gBACzB,IAAI,CAAC,GAAG,UAAU,CAAC,GAAG,EAAE;oBACpB,YAAY,CAAC,CAAC,CAAC;oBACf,OAAO,EAAE,CAAC;gBACd,CAAC,EAAE,MAAM,CAAC;YACd,CAAC,CAAC;QACN,CAAC;KAAA;IACD,MAAM;IACN,KAAK,CAAC,KAAY,EAAE,IAAY,EAAE,CAAU,EAAE,CAAU,EAAE,OAAe,YAAY,EAAE,YAAoB,SAAS;QAChH,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;QAC5B,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;QACpB,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC;QAC9B,IAAI,CAAC,IAAI,SAAS,EAAE;YAChB,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;SAC5C;QAED,IAAI,CAAC,IAAI,SAAS,EAAE;YAChB,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,EAAE,CAAC;SAC7B;QAED,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IACD,MAAM;IACN,IAAI,CAAC,KAAY,EAAE,GAAW,EAAE,EAAU,EAAE,EAAU,EAAE,MAAe,EAAE,OAAgB,EAAE,EAAW,EAAE,EAAW,EAAE,MAAe,EAAE,OAAgB;QAClJ,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;QAC5B,IAAI,KAAK,GAAG,EAAE,CAAC,WAAW,EAAE,CAAC;QAC7B,IAAI,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAC,CAAC,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QACpB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;QACjB,KAAK,CAAC,MAAM,GAAG,GAAE,EAAE;YACf,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAC,GAAG,IAAI,CAAC,CAAC;QAC5C,CAAC;QACD,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;IACpB,CAAC;CACJ;;;;;;;;;;;;;;;ACxCD,MAAqB,KAAK;IAItB,YAAmB,IAAa;QAAb,SAAI,GAAJ,IAAI,CAAS;QAC5B,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;IAC1B,CAAC;IACD,MAAM,CAAC,QAAmB;QACtB,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,OAAO,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QACtC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,MAAM,CAAC;QACzC,OAAO,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IACD,MAAM,CAAC,IAAY;QACf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;IACpC,CAAC;IACD,MAAM;QACF,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChD,CAAC;CACJ;AAvBD,wBAuBC;;;;;;;;;;;;;;;ACzBD,+DAAwB;AAGxB,QAAQ;AACR,IAAI;AACJ,IAAY,KAGX;AAHD,WAAY,KAAK;IACb,iCAAI;IACJ,qCAAM;AACV,CAAC,EAHW,KAAK,GAAL,aAAK,KAAL,aAAK,QAGhB;AASD;;GAEG;AACH,MAAqB,MAAM;IAOvB,YAAmB,SAAS,EAAE,EAAE,KAAK,GAAG,CAAC,EAAE,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC;QAAhD,WAAM,GAAN,MAAM,CAAK;QAD9B,SAAI,GAAS,KAAK,CAAC,IAAI,CAAC;QAGpB,IAAI,CAAC,KAAK,GAAG,KAAK;QAClB,IAAI,CAAC,MAAM,GAAG,MAAM;QAEpB,IAAI,CAAC,CAAC,GAAG,CAAC;QACV,IAAI,CAAC,CAAC,GAAG,CAAC;QAEV,IAAI,CAAC,OAAO,GAAG,IAAI;IACvB,CAAC;IAED;;OAEG;IACH,IAAI,CAAC,KAAW;QACZ,IAAI,CAAC,IAAI,CAAC,OAAO;YACb,OAAM;QACV,aAAG,CAAC,IAAI,CACJ,KAAK,EACL,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,CAAC,EACN,IAAI,CAAC,CAAC,EACN,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,MAAM,CACd;IACL,CAAC;IAED;;;;OAIG;IACH,IAAI,CAAC,EAAO;QACR,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC;QAC7B,IAAI,GAAG,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,GAAG,CAAC;QAE9B,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO;YAC5B,OAAO,KAAK;QAEhB,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,CAAC;eAChB,GAAG,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK;eAC1B,GAAG,IAAI,IAAI,CAAC,CAAC;eACb,GAAG,IAAI,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC;IACvC,CAAC;IACD,SAAS,CAAC,CAAC;QACP,IAAI,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,EAAC,KAAK,CAAC,OAAO,EAAC,CAAC,EAAC,KAAK,CAAC,OAAO,EAAC,KAAK,EAAC,CAAC,EAAC,MAAM,EAAC,CAAC,EAAC,OAAO,EAAC,IAAI,EAAC,CAAC,CAAC;IACtF,CAAC;CACJ;AAvDD,yBAuDC;;;;;;;;;;;;;;;ACzED,MAAqB,KAAK;IAEtB,YAAmB,OAAwB,EAAS,KAAa,EAAS,MAAc,EAAS,KAAc;QAA5F,YAAO,GAAP,OAAO,CAAiB;QAAS,UAAK,GAAL,KAAK,CAAQ;QAAS,WAAM,GAAN,MAAM,CAAQ;QAAS,UAAK,GAAL,KAAK,CAAS;IAE/G,CAAC;IACD,IAAI,CAAC,KAAa;QACd,IAAI,CAAC,OAAO,CAAC,SAAS,GAAC,IAAI,CAAC,KAAK,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,MAAM,CAAC;IACrD,CAAC;IACD,MAAM;IACN,KAAK;QACD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;CACJ;AAdD,wBAcC;;;;;;;;;;;;;;;ACZD,+DAAwB;AAExB,MAAqB,KAAK;IACtB,YAAmB,KAAY,EAAS,KAAW;QAAhC,UAAK,GAAL,KAAK,CAAO;QAAS,UAAK,GAAL,KAAK,CAAM;QAC/C,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;IAC1B,CAAC;IACD,MAAM,CAAC,OAAO;QACV,aAAG,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,KAAK,CAAC;QAChC,aAAG,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACrB,OAAO,EAAE,CAAC;IACd,CAAC;IACD,MAAM;QACF,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;CACJ;AAZD,wBAYC","file":"game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./dev/game.ts\");\n","import {\r\n    JY,\r\n    Stage,\r\n    Title,\r\n    Descript,\r\n    Sprite\r\n} from '../src/index';\r\nimport lib from '../src/lib';\r\nimport { STATE } from '../src/jy';\r\nconst canvas = wx.createCanvas();\r\nconst [height, width] = [canvas.height, canvas.width]\r\n// console.log(canvas.height,canvas.width)\r\nconst context = canvas.getContext('2d');\r\n//创建舞台\r\nlet stage = new Stage(context, width, height, '#FFFFFF');\r\nlet title = new Title('打气球', stage);\r\ntitle.create = (resolve) => {\r\n    lib.write(stage, '一起来打气球')\r\n    resolve();\r\n}\r\nlet descript = new Descript(stage)\r\ndescript.create = async (resolve) => {\r\n    lib.draw(stage, 'images/descript.jpg', 0, 0, stage.width, stage.height)\r\n    // await lib.waitMoment(3000);\r\n    //添加开始按钮的Sprite\r\n    let btn = new Sprite('images/btn-start.png', 100, 40, (width - 100) / 2, height - 40 - 40);\r\n    btn.draw(stage);\r\n    wx.onTouchStart((e) => {\r\n        if (btn.touchHits(e)) {\r\n            wx.offTouchStart();\r\n            resolve()\r\n        }\r\n    });\r\n}\r\nclass Game extends JY {\r\n    newGame() {\r\n        wx.onTouchStart(e => {\r\n            let { clientX, clientY } = e;\r\n            console.log(clientX,clientY)\r\n        });\r\n        this.stage.style = \"green\";\r\n        this.setState(STATE.running)\r\n    }\r\n    async running() {\r\n        console.log('my running')\r\n        await lib.waitMoment(4000);\r\n        this.setState(STATE.gameOver);\r\n    }\r\n    async gameOver(){\r\n        stage.clear();\r\n        lib.write(stage,'游戏结束！');\r\n        await lib.waitMoment(3000);\r\n        this.setState(STATE.descript);\r\n    }\r\n}\r\n\r\nnew Game(stage, title, descript);","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen';\r\n//操作界面\r\nexport default class Control implements IScreen {\r\n    elem: HTMLElement;\r\n    rect: Array<number> = [160, 160];\r\n    moveElem: HTMLElement;\r\n    moveRect: Array<Number> = [50, 50];\r\n    moveCenter: Array<any>;\r\n    elemCenter: Array<any>;\r\n    elemPosition: Array<Number> = [10, 10];\r\n    position: Array<any>;\r\n    toPosition:Array<number>;\r\n    private angle:number=0;//角度\r\n\r\n    create() {\r\n        this.elem = document.createElement('div');\r\n        this.elem.className = \"control\";\r\n        this.elem.style.position = 'absolute';\r\n        this.elem.style.width = this.rect[0] + 'px';\r\n        this.elem.style.height = this.rect[1] + 'px';\r\n        this.elem.style.left = this.elemPosition[0] + '%';\r\n        this.elem.style.bottom = this.elemPosition[1] + '%';\r\n        this.moveElem = document.createElement('div');\r\n        this.moveElem.className = 'move';\r\n        this.moveElem.style.position = 'absolute';\r\n        this.moveElem.style.width = this.moveRect[0] + 'px';\r\n        this.moveElem.style.height = this.moveRect[1] + 'px';\r\n        this.elem.appendChild(this.moveElem);\r\n        this.moveCenter = this.moveRect.map(function (d: number) { return d / 2 });\r\n        this.elemCenter = this.rect.map(function (d: number) { return d / 2 });\r\n        this.resetPos();\r\n        this.bindEvent();\r\n        return this.elem;\r\n    }\r\n    resetPos() {\r\n        //重置位置\r\n        // console.log(this.moveCenter)\r\n        this.toPosition = [0, 0];\r\n        this.transPosition();\r\n    }\r\n    //传入圆心转换成坐标,\r\n    transPosition() {\r\n        let x = (this.elemCenter[0] - this.moveCenter[0]) + this.toPosition[0];\r\n        let y = (this.elemCenter[1] - this.moveCenter[1]) - this.toPosition[1];\r\n        this.moveElem.style.left = x + 'px';\r\n        this.moveElem.style.top = y + 'px';\r\n\r\n    }\r\n    bindEvent() {\r\n        this.elem.addEventListener('touchstart', function (event:TouchEvent) {\r\n            let epos = event.touches[0] || event;\r\n            this.setPosition(epos)\r\n        }.bind(this), false);\r\n        this.elem.addEventListener('touchmove', function (event:TouchEvent) {\r\n            let epos = event.touches[0] || event;\r\n            this.setPosition(epos);\r\n        }.bind(this), false);\r\n        this.elem.addEventListener('touchend', function (event:TouchEvent) {\r\n            this.resetPos();\r\n        }.bind(this), false);\r\n    }\r\n    // 计算边界值,设置位置\r\n    setPosition(epos:Touch) {\r\n        this.position =  [this.elem.offsetLeft, this.elem.offsetTop];\r\n        let x: number = epos.pageX - this.position[0];\r\n        let y = epos.pageY - this.position[1];\r\n        // x= Math.min (x,this.rect[0]-this.moveCenter[0]);\r\n        // x = Math.max(x,this.moveCenter[0])\r\n        let x1 = (x - this.elemCenter[0]);//相对于圆点的位置\r\n        let y1 = -(y - this.elemCenter[1]);\r\n        console.log(x1, y1)\r\n        let ang = Math.atan2(y1, x1);\r\n        // this.angle = ang;\r\n        // console.log('角度：'+ang)\r\n        let c = Math.sqrt(x1 * x1 + y1 * y1);\r\n        let r = this.elemCenter[0] - this.moveCenter[0];//最长半径\r\n        if (c > r) {\r\n            // console.log('out', c)\r\n            let x2 = Math.cos(ang) * r;\r\n            let y2 = Math.sin(ang) * r;\r\n            //下面是另一种算法\r\n            // y2=y1*r/c;\r\n            // x2= x1*r/c;\r\n            // console.log('xy:', x1, y1)\r\n            // console.log('x2y2:',x2, y2)\r\n            x1 = x2;\r\n            y1 = y2;\r\n        }\r\n        this.toPosition = [x1, y1];\r\n        this.transPosition()\r\n    }\r\n    getAngle(){\r\n        // console.log(this.toPosition)\r\n        this.angle = Math.atan2(this.toPosition[1],this.toPosition[0]);\r\n        return this.angle;\r\n    }\r\n    //获取到角度\r\n    remove() {\r\n        this.elem.parentNode.removeChild(this.elem);\r\n    }\r\n}","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nimport { Stage } from '.';\r\n//描述设计\r\nexport default class Descript  implements  IScreen{\r\n    constructor(public stage:Stage) {\r\n        console.log(arguments)\r\n    }\r\n    create(resolve:Function) {\r\n       wx.onTouchStart(() => {\r\n            console.log('touch...')\r\n            wx.offTouchStart();\r\n            resolve()\r\n        })\r\n    }\r\n    remove(){\r\n        this.stage.clear();\r\n    }\r\n}","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nexport default class GameOver implements IScreen {\r\n    elem: HTMLElement;\r\n    textElem: HTMLElement;\r\n    constructor(public btntitle: string) {\r\n\r\n    }\r\n    create(callback?: Function, text: string = '') {\r\n        this.elem = document.createElement('div');\r\n        this.elem.className = 'gameOver';\r\n        this.textElem = document.createElement('div');\r\n        this.textElem.className = 'text';\r\n        this.textElem.innerHTML = text;\r\n        this.elem.appendChild(this.textElem);\r\n        let btn = document.createElement('button');\r\n        btn.className = \"button\"\r\n        btn.innerText = this.btntitle;\r\n        btn.addEventListener('touchstart', function (event:TouchEvent) {\r\n            callback.call(this)\r\n        }.bind(this),false);\r\n        // btn.onclick = callback.bind(this);\r\n        this.elem.appendChild(btn)\r\n        return this.elem;\r\n    }\r\n    setText(text: string = '') {\r\n        this.textElem.innerHTML = text;\r\n    }\r\n    remove() {\r\n        this.elem.parentNode.removeChild(this.elem);\r\n    }\r\n\r\n}","import JY from './jy';\r\nimport Control from './control';\r\nimport Descript from './descript';\r\nimport GameOver from './gameOver';\r\nimport IScreen from './iScreen';\r\nimport Score from './score';\r\nimport Sprite from './sprite';\r\nimport Stage from './stage';\r\nimport Title from './title';\r\nexport {\r\n    JY,\r\n    Control,\r\n    Descript,\r\n    GameOver,\r\n    IScreen,\r\n    Score,\r\n    Sprite,\r\n    Stage,\r\n    Title\r\n}","/*\r\n/// <reference path=\"sprite.ts\" />\r\n/// <reference path=\"title.ts\" />\r\n/// <reference path=\"descript.ts\" />\r\n/// <reference path=\"gameOver.ts\" />\r\n/// <reference path=\"stage.ts\" />\r\n/// <reference path=\"control.ts\" />\r\n/// <reference path=\"score.ts\" />\r\n*/\r\nimport Sprite, { SHAPE } from './sprite';\r\nimport Title from './title';\r\nimport Descript from './descript';\r\nimport GameOver from './gameOver';\r\nimport Stage from './stage';\r\nimport Control from './control';\r\nimport Score from './score';\r\nimport lib from './lib';\r\n\r\n//游戏主框架\r\nexport enum STATE {\r\n    loading,\r\n    title,\r\n    descript,\r\n    newGame,\r\n    running,\r\n    gameOver\r\n}\r\nexport default class JY {\r\n    private func: Function = new Function;\r\n    private timer: any;\r\n    private aniId: number;\r\n    private currentState: STATE;\r\n    private ispause: boolean = false;//是否处于暂停状态\r\n    protected interval: number = 10;\r\n    protected context: wx.CanvasContext;\r\n    protected scoreScreen: Score;\r\n    constructor(public stage: Stage, public titleStage?: Title, public descriptStage?: Descript, public gameOverStage?: GameOver, public controlStage?: Control) {\r\n        this.context = stage.context;\r\n        this.setup();\r\n    }\r\n    setup() {\r\n        this.stage.draw();\r\n        this.currentState = STATE.loading;\r\n        this.setState(STATE.loading);\r\n        this.loop();\r\n    }\r\n    // 实现游戏帧循环\r\n    async loop() {\r\n        if (!this.ispause) {\r\n            await this.func();\r\n        }\r\n        this.aniId = window.requestAnimationFrame(\r\n            this.loop.bind(this)\r\n        )\r\n    }\r\n    //分数面板\r\n    scoreInit() {\r\n        this.scoreScreen = new Score('--');\r\n    }\r\n    createControl() {\r\n    }\r\n    //新的开始\r\n    protected newGame() {\r\n        //游戏开始，清空场景\r\n        //打开计时器\r\n        this.setState(STATE.running);\r\n    }\r\n    //结束 \r\n    protected over() {\r\n        this.setState(STATE.gameOver);\r\n    }\r\n    //暂停\r\n    protected pause() {\r\n        this.ispause = true;\r\n        window.cancelAnimationFrame(this.aniId);\r\n    }\r\n    //暂停后的继续\r\n    protected play() {\r\n        this.ispause = false;\r\n        this.loop();\r\n    }\r\n    //游戏结束\r\n    protected gameOver() {\r\n        //游戏结束\r\n        //清空场景，显示结果\r\n        console.log('gameOver');\r\n        // this.scoreScreen.remove();\r\n        this.stage.clear();\r\n        this.showGameOver();\r\n    }\r\n    //结束画面\r\n    async showGameOver() {\r\n        console.log('game  over...')\r\n        await lib.waitMoment(3000);\r\n    }\r\n    //游戏中的\r\n    running() {\r\n        console.log('running...')\r\n    }\r\n    async loading() {\r\n        console.log('loading....')\r\n        await this.showLoading();\r\n        this.setState(STATE.title)\r\n    }\r\n    showLoading() {\r\n        lib.write(this.stage, '正在加载中')\r\n        return lib.waitMoment(3000);\r\n    }\r\n    async title() {\r\n        console.log('title....');\r\n        await this.showTitle();\r\n        this.setState(STATE.descript);\r\n    }\r\n    showTitle() {\r\n        // this.titleStage.create()\r\n        // return lib.waitMoment(3000);\r\n        return new Promise(resolve => {\r\n            this.titleStage.create(resolve);\r\n        });\r\n    }\r\n    async descript() {\r\n        console.log('descript...');\r\n        await this.showDescript();\r\n        this.setState(STATE.newGame);\r\n    }\r\n    showDescript() {\r\n        return new Promise(resolve => {\r\n            this.descriptStage.create(resolve);\r\n        });\r\n        // return lib.waitMoment(3000);\r\n    }\r\n    proxy(stageFunc: Function) {\r\n        this.stage.clear();\r\n        return stageFunc.bind(this);\r\n    }\r\n    //检查状态\r\n    checkState() {\r\n        switch (this.currentState) {\r\n            case STATE.loading:\r\n                this.func = this.proxy(this.loading);\r\n                break;\r\n            case STATE.title:\r\n                this.func = this.proxy(this.title);\r\n                break;\r\n            case STATE.descript:\r\n                this.func = this.proxy(this.descript);\r\n                break;\r\n            case STATE.newGame:\r\n                this.func = this.proxy(this.newGame);\r\n                break;\r\n            case STATE.running:\r\n                this.func = this.proxy(this.running);\r\n                break;\r\n            case STATE.gameOver:\r\n                this.func = this.proxy(this.gameOver);\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    setState(state?: STATE) {\r\n        this.currentState = state;\r\n        this.checkState();\r\n        this.func();\r\n    }\r\n    //碰撞检测\r\n    hits(oA: Sprite, oB: Sprite) {\r\n        var bx = false,\r\n            by = false;\r\n        if (oA.shape == SHAPE.rect) {\r\n            var bw = oB.w;\r\n            var aw = oA.w;\r\n            var bh = oB.h;\r\n            var ah = oA.h;\r\n            if (oA.x > oB.x) {\r\n                bx = oA.x - oB.x < bw;\r\n            } else if (oA.x < oB.x) {\r\n                bx = oB.x - oA.x < aw;\r\n            } else {\r\n                bx = true;\r\n            };\r\n            if (oA.y > oB.y) {\r\n                by = oA.y - oB.y < bh;\r\n            } else if (oA.y < oB.y) {\r\n                by = oB.y - oA.y < ah;\r\n            } else {\r\n                by = true;\r\n            };\r\n            return (bx && by);\r\n        } else if (oA.shape == SHAPE.circle) {\r\n            var r2 = oA.r + oB.r;\r\n            let oAc = oA.getCenter();\r\n            let oBc = oB.getCenter();\r\n            bx = Math.abs(oAc[0] - oBc[0]) < r2;\r\n            by = Math.abs(oAc[1] - oBc[1]) < r2;\r\n            return (bx && by);\r\n        }\r\n    }\r\n}","import { Stage } from \".\";\r\n\r\nexport default {\r\n    /*\r\n    * 暂停一段时间\r\n    */\r\n    //暂停一段时间\r\n    async waitMoment(second: number) {\r\n        return new Promise(resolve => {\r\n            let t = setTimeout(() => {\r\n                clearTimeout(t)\r\n                resolve();\r\n            }, second)\r\n        })\r\n    },\r\n    //显示文字\r\n    write(stage: Stage, text: string, x?: number, y?: number, font: string = \"14px Arial\", fillStyle: string = '#000000') {\r\n        let context = stage.context;\r\n        context.font = font;\r\n        context.fillStyle = fillStyle;\r\n        if (x == undefined) {\r\n            x = (stage.width - text.length * 14) / 2;\r\n        }\r\n\r\n        if (y == undefined) {\r\n            y = stage.height / 2 - 15;\r\n        }\r\n\r\n        context.fillText(text, x, y)\r\n    },\r\n    //导入图片\r\n    draw(stage: Stage, img: string, dx: number, dy: number, dWidth?: number, dHeight?: number, sx?: number, sy?: number, sWidth?: number, sHeight?: number) {\r\n        let context = stage.context;\r\n        let image = wx.createImage();\r\n        let args = Array.prototype.slice.call(arguments,2);\r\n        args.unshift(image);  \r\n        console.log(args)\r\n        image.onload = ()=>{\r\n            context.drawImage.call(context,...args);\r\n        }\r\n        image.src = img;\r\n    }\r\n}","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nexport default class Score implements IScreen {\r\n    elem: any;\r\n    right: string;\r\n    top: string;\r\n    constructor(public text?: string) {\r\n        console.log(arguments)\r\n    }\r\n    create(callback?: Function) {\r\n        this.elem = document.createElement('div');\r\n        this.elem.className = \"score\";\r\n        this.elem.innerHTML = this.text || '';\r\n        this.elem.style.position = 'absolute';\r\n        this.elem.style.right = this.right || '10px';\r\n        this.elem.style.top = this.top || '10px';\r\n        return this.elem;\r\n    }\r\n    change(text: string) {\r\n        this.text = text;\r\n        this.elem.innerHTML = this.text;\r\n    }\r\n    remove() {\r\n        this.elem.parentNode.removeChild(this.elem);\r\n    }\r\n}","import lib from \"./lib\";\r\nimport { Stage } from \".\";\r\n\r\n//sprite\r\n//形状\r\nexport enum SHAPE {\r\n    rect,\r\n    circle\r\n}\r\ninterface SP {\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number,\r\n    visible: boolean,\r\n    type: SHAPE\r\n}\r\n/**\r\n * 游戏基础的精灵类\r\n */\r\nexport default class Sprite implements SP {\r\n    width: number;\r\n    height: number;\r\n    x: number;\r\n    y: number;\r\n    visible: boolean;\r\n    type:SHAPE = SHAPE.rect;\r\n    constructor(public imgSrc = '', width = 0, height = 0, x = 0, y = 0) {\r\n\r\n        this.width = width\r\n        this.height = height\r\n\r\n        this.x = x\r\n        this.y = y\r\n\r\n        this.visible = true\r\n    }\r\n\r\n    /**\r\n     * 将精灵图绘制在canvas上\r\n     */\r\n    draw(stage:Stage) {\r\n        if (!this.visible)\r\n            return\r\n        lib.draw(\r\n            stage,\r\n            this.imgSrc,\r\n            this.x,\r\n            this.y,\r\n            this.width,\r\n            this.height\r\n        )\r\n    }\r\n\r\n    /**\r\n     * 简单的碰撞检测定义：\r\n     * 另一个精灵的中心点处于本精灵所在的矩形内即可\r\n     * @param{Sprite} sp: Sptite的实例\r\n     */\r\n    hits(sp: any) {\r\n        let spX = sp.x + sp.width / 2\r\n        let spY = sp.y + sp.height / 2\r\n\r\n        if (!this.visible || !sp.visible)\r\n            return false\r\n\r\n        return !!(spX >= this.x\r\n            && spX <= this.x + this.width\r\n            && spY >= this.y\r\n            && spY <= this.y + this.height)\r\n    }\r\n    touchHits(e){\r\n        let touch = e.touches[0];\r\n        return this.hits({x:touch.clientX,y:touch.clientY,width:0,height:0,visible:true});\r\n    }\r\n}\r\n","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nexport default class Stage {\r\n    elem: wx.CanvasContext;\r\n    constructor(public context:wx.CanvasContext, public width: number, public height: number, public style?: string) {\r\n        \r\n    }\r\n    draw(style?:string){\r\n        this.context.fillStyle=this.style;\r\n        this.context.fillRect(0,0,this.width,this.height)\r\n    }\r\n    //清空布景\r\n    clear(){\r\n        this.context.clearRect(0,0,this.width,this.height);\r\n        this.draw();\r\n    }\r\n}\r\n","//描述设计\r\n//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nimport { Stage } from '.';\r\nimport lib from './lib';\r\n\r\nexport default class Title  implements  IScreen{\r\n    constructor(public title:string,private stage:Stage) {\r\n        console.log(arguments)\r\n    }\r\n    create(resolve) {\r\n        lib.write(this.stage,this.title)\r\n        lib.waitMoment(3000);\r\n        resolve();\r\n    }\r\n    remove(){\r\n        this.stage.clear();\r\n    }\r\n}"],"sourceRoot":""}