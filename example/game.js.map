{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dev/game.ts","webpack:///./src/adpater.ts","webpack:///./src/control.ts","webpack:///./src/descript.ts","webpack:///./src/gameOver.ts","webpack:///./src/index.ts","webpack:///./src/jy.ts","webpack:///./src/lib.ts","webpack:///./src/sprite.ts","webpack:///./src/stage.ts","webpack:///./src/title.ts","webpack:///./src/weapp-adapter.js"],"names":[],"mappings":"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AEA;;AAEA,uCAAuC,uCAAuC,eAAe;;AAE7F,wCAAwC,6BAA6B,aAAa,OAAO,iBAAiB,mBAAmB,uBAAuB,6EAA6E,EAAE,sBAAsB,gBAAgB;;AAEzQ,kDAAkD,0CAA0C,2DAA2D;;AAEvJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B;AAC5B,mCAAmC;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF,iCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,4DAA4D,EAAE,yDAAyD,qEAAqE,6DAA6D,qBAAqB,EAAE;;AAE/iB,kDAAkD,0CAA0C,2DAA2D;;AAEvJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uFAAuF,aAAa;AACpG;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN,iCAAiC;AACjC;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,8BAA8B,SAAS;AACvC;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF,iCAAiC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,4DAA4D,EAAE,yDAAyD,qEAAqE,6DAA6D,qBAAqB,EAAE;;AAE/iB,kDAAkD,0CAA0C,2DAA2D;;AAEvJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,MAAM;;AAEN;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA;AACA;AACA;AACA,MAAM;;AAEN;AACA,IAAI;AACJ;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;AACA,IAAI;;AAEJ;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;;AAEF,kDAAkD,0CAA0C,2DAA2D;;AAEvJ;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;;AAEA,OAAO;AACP,W","file":"game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./dev/game.ts\");\n","import {\r\n    JY,\r\n    STATE,\r\n    Stage,\r\n    Title,\r\n    Descript,\r\n    Sprite,\r\n    lib\r\n} from '../src/index';\r\n// wx.showShareMenu({\r\n// withShareTicket: true\r\n// })\r\n\r\nconst canvas = lib.createCanvas();\r\nconst [height, width] = [canvas.height, canvas.width]\r\n\r\n//创建舞台\r\nlet stage = new Stage(canvas, width, height, '#FFFFFF');\r\nlet title = new Title('打气球', stage);\r\ntitle.create = (resolve) => {\r\n    lib.write(stage, '一起来打气球')\r\n    resolve();\r\n}\r\nlet descript = new Descript(stage)\r\ndescript.create = async (resolve) => {\r\n    lib.draw(stage, 'images/descript.jpg', 0, 0, stage.width, stage.height)\r\n    // await lib.waitMoment(3000);\r\n    //添加开始按钮的Sprite\r\n    let btn = new Sprite(stage, 'images/btn-start.png', 100, 40, (width - 100) / 2, height - 40 - 40);\r\n    btn.draw();\r\n    lib.addEventListener(stage.canvas,'touchstart',(e) => {\r\n        btn.touchHits(e,()=>{\r\n            lib.removeEventListener(stage.canvas,'touchstart')\r\n            resolve()\r\n        })\r\n    });\r\n}\r\n//气球类\r\nclass Ball extends Sprite {\r\n    speed: number = 1;//速度\r\n    //更新位置\r\n    update() {\r\n        this.y -= this.speed;\r\n        if (this.y+this.height < 0) {\r\n            this.visible = false;\r\n        }\r\n    }\r\n}\r\nclass Game extends JY {\r\n    frame: number = 0;//帧数\r\n    ballList: Ball[] = [];//所有球的集合\r\n    score = 0 ;//分数\r\n    life = 3;\r\n    reset(){\r\n        this.score= 0 ;\r\n        this.life = 3;\r\n        this.ballList = [];\r\n    }\r\n    newGame() {\r\n        this.stage.style = \"green\";\r\n        this.setState(STATE.running);\r\n        //事件绑定\r\n        lib.addEventListener(this.stage.canvas,'touchstart',e => {\r\n            let { clientX, clientY } = e;\r\n            console.log(clientX, clientY)\r\n            this.ballList.forEach((ball,index) => {\r\n                //触碰回收球并播放声音\r\n                ball.touchHits(e,()=>{\r\n                    this.ballList.splice(index,1);\r\n                    this.score ++;\r\n                    lib.play('audio/boom.mp3');\r\n                })\r\n            });\r\n        });\r\n    }\r\n    async running() {\r\n        this.frame++;\r\n        //先清空场景\r\n        this.stage.clear();\r\n        this.createSprite();\r\n        this.ballList.forEach((ball,index) => {\r\n            ball.update();\r\n            ball.draw();\r\n            //回收球\r\n            if(!ball.visible){\r\n                this.ballList.splice(index,1);\r\n                this.life--;\r\n                if(this.life<=0){\r\n                    this.setState(STATE.gameOver);\r\n                }\r\n            }\r\n        });\r\n        this.showScore();\r\n    }\r\n    //显示分数信息\r\n    showScore(){\r\n        lib.write(stage, '生命值：'+this.life,10,20);\r\n        lib.write(stage, '得分：'+this.score,10,50);\r\n    }\r\n    //创建角色\r\n    createSprite() {\r\n        //100帧创建一个角色\r\n        var chance = Math.floor(Math.random()*800);\r\n        if (chance < this.score/5*2+10) {\r\n            let x = lib.random(0, stage.width - 30);\r\n            let w = 40;\r\n            let h = 340 / 120 * w;\r\n            let ball = new Ball(this.stage, 'images/ball.png', w, h, x, this.stage.height);\r\n            // ball.touchHits(this.touch)\r\n            ball.speed += this.score/3;\r\n            this.ballList.push(ball);\r\n        }\r\n    }\r\n    async gameOver() {\r\n        stage.clear();\r\n        lib.write(stage, '游戏结束！总得分：'+this.score);\r\n        // wx.shareAppMessage( {\r\n        //     title: '最爱打气球',\r\n        //     imageUrl: canvas.toTempFilePathSync({\r\n        //     destWidth: 500,\r\n        //     destHeight: 400\r\n        //     })\r\n        // }\r\n        // )\r\n        await lib.waitMoment(3000);\r\n        this.reset();\r\n        this.setState(STATE.descript);\r\n    }\r\n}\r\n\r\nlet mygame = new Game(stage, title, descript);\r\nmygame.resources = [\r\n    'images/ball.png',\r\n    'images/btn-start.png',\r\n    'images/descript.jpg',\r\n    'audio/boom.mp3'\r\n];\r\nmygame.setup()","/**\r\n * 对h5和wx进行兼容处理\r\n */\r\nimport './weapp-adapter';\r\nlet iswx = false;\r\nif (!window || window.hasOwnProperty('wx')) {\r\n    iswx = true;\r\n}\r\nlet isMobile = true;\r\nif (navigator.userAgent.indexOf('Mobile') == -1) {\r\n    isMobile = false;\r\n}\r\nlet events = {};\r\n\r\nconst adapter = {\r\n    // showShareMenu: () => { },\r\n    createCanvas: () => {\r\n        if (iswx) {\r\n            return window['canvas'];//全局创建的canvas\r\n        } else {\r\n            let canvas = document.createElement('canvas');\r\n            canvas.height = document.documentElement.clientHeight;\r\n            canvas.width = document.documentElement.clientWidth;\r\n            canvas.style.position = 'absolute';\r\n            canvas.style.top = \"0\";\r\n            canvas.style.left = \"0\";\r\n            document.body.append(canvas);\r\n            return canvas;\r\n        }\r\n    },\r\n    eventMap: {\r\n        touchstart: 'click',\r\n        touchmove: 'mousemove'\r\n    },\r\n    wrapEventType(type) {\r\n        if (isMobile) {\r\n            return type;\r\n        } else {\r\n            return this.eventMap[type];\r\n        }\r\n    },\r\n    addEventListener(target, type, listener) {\r\n        if (iswx) {\r\n            target.addEventListener(type, listener);\r\n        } else {\r\n            type = this.wrapEventType(type);\r\n            if (!events[type]) {\r\n                events[type] = []\r\n                target.addEventListener(type, this.handle(events[type]), false);\r\n            }\r\n            events[type].push(listener);\r\n        }\r\n    },\r\n    handle(listeners) {\r\n        return (event) => {\r\n            for (var i = 0; i < listeners.length; i++) {\r\n                if (!isMobile) {\r\n                    event.touches = [event];\r\n                }\r\n                listeners[i](event)\r\n            }\r\n        }\r\n    },\r\n    removeEventListener(target, type, listener) {\r\n        if (iswx) {\r\n            target.removeEventListener(type, listener);\r\n        } else {\r\n            type = this.wrapEventType(type);\r\n            var listeners = events[type]\r\n            if (listeners && listeners.length > 0) {\r\n                for (var i = listeners.length; i--; i > 0) {\r\n                    if (listeners[i] === listener) {\r\n                        listeners.splice(i, 1)\r\n                        break\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    dispatchEvent(target, event) {\r\n        if (iswx) {\r\n            target.dispatchEvent(event);\r\n        } else {\r\n            let type = event.type;\r\n            var listeners = events[type]\r\n            if (listeners) {\r\n                for (var i = 0; i < listeners.length; i++) {\r\n                    listeners[i](event)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // createImage() {\r\n    //     let img = new Image();\r\n    //     return img;\r\n    // },\r\n    // createInnerAudioContext() {\r\n    //     let audio = new Audio();\r\n    //     let f = null;\r\n    //     let newProps = {\r\n    //         onCanplay(t) {\r\n    //             f = t;\r\n    //         }\r\n    //     }\r\n    //     audio.oncanplay = (e) => {\r\n    //         f();\r\n    //     }\r\n    //     return Object.assign(audio, newProps)\r\n    // }\r\n}\r\n\r\nexport default adapter;","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen';\r\n//操作界面\r\nexport default class Control implements IScreen {\r\n    elem: HTMLElement;\r\n    rect: Array<number> = [160, 160];\r\n    moveElem: HTMLElement;\r\n    moveRect: Array<Number> = [50, 50];\r\n    moveCenter: Array<any>;\r\n    elemCenter: Array<any>;\r\n    elemPosition: Array<Number> = [10, 10];\r\n    position: Array<any>;\r\n    toPosition:Array<number>;\r\n    private angle:number=0;//角度\r\n\r\n    create() {\r\n        this.elem = document.createElement('div');\r\n        this.elem.className = \"control\";\r\n        this.elem.style.position = 'absolute';\r\n        this.elem.style.width = this.rect[0] + 'px';\r\n        this.elem.style.height = this.rect[1] + 'px';\r\n        this.elem.style.left = this.elemPosition[0] + '%';\r\n        this.elem.style.bottom = this.elemPosition[1] + '%';\r\n        this.moveElem = document.createElement('div');\r\n        this.moveElem.className = 'move';\r\n        this.moveElem.style.position = 'absolute';\r\n        this.moveElem.style.width = this.moveRect[0] + 'px';\r\n        this.moveElem.style.height = this.moveRect[1] + 'px';\r\n        this.elem.appendChild(this.moveElem);\r\n        this.moveCenter = this.moveRect.map(function (d: number) { return d / 2 });\r\n        this.elemCenter = this.rect.map(function (d: number) { return d / 2 });\r\n        this.resetPos();\r\n        this.bindEvent();\r\n        return this.elem;\r\n    }\r\n    resetPos() {\r\n        //重置位置\r\n        // console.log(this.moveCenter)\r\n        this.toPosition = [0, 0];\r\n        this.transPosition();\r\n    }\r\n    //传入圆心转换成坐标,\r\n    transPosition() {\r\n        let x = (this.elemCenter[0] - this.moveCenter[0]) + this.toPosition[0];\r\n        let y = (this.elemCenter[1] - this.moveCenter[1]) - this.toPosition[1];\r\n        this.moveElem.style.left = x + 'px';\r\n        this.moveElem.style.top = y + 'px';\r\n\r\n    }\r\n    bindEvent() {\r\n        this.elem.addEventListener('touchstart', function (event:TouchEvent) {\r\n            let epos = event.touches[0] || event;\r\n            this.setPosition(epos)\r\n        }.bind(this), false);\r\n        this.elem.addEventListener('touchmove', function (event:TouchEvent) {\r\n            let epos = event.touches[0] || event;\r\n            this.setPosition(epos);\r\n        }.bind(this), false);\r\n        this.elem.addEventListener('touchend', function (event:TouchEvent) {\r\n            this.resetPos();\r\n        }.bind(this), false);\r\n    }\r\n    // 计算边界值,设置位置\r\n    setPosition(epos:Touch) {\r\n        this.position =  [this.elem.offsetLeft, this.elem.offsetTop];\r\n        let x: number = epos.pageX - this.position[0];\r\n        let y = epos.pageY - this.position[1];\r\n        // x= Math.min (x,this.rect[0]-this.moveCenter[0]);\r\n        // x = Math.max(x,this.moveCenter[0])\r\n        let x1 = (x - this.elemCenter[0]);//相对于圆点的位置\r\n        let y1 = -(y - this.elemCenter[1]);\r\n        console.log(x1, y1)\r\n        let ang = Math.atan2(y1, x1);\r\n        // this.angle = ang;\r\n        // console.log('角度：'+ang)\r\n        let c = Math.sqrt(x1 * x1 + y1 * y1);\r\n        let r = this.elemCenter[0] - this.moveCenter[0];//最长半径\r\n        if (c > r) {\r\n            // console.log('out', c)\r\n            let x2 = Math.cos(ang) * r;\r\n            let y2 = Math.sin(ang) * r;\r\n            //下面是另一种算法\r\n            // y2=y1*r/c;\r\n            // x2= x1*r/c;\r\n            // console.log('xy:', x1, y1)\r\n            // console.log('x2y2:',x2, y2)\r\n            x1 = x2;\r\n            y1 = y2;\r\n        }\r\n        this.toPosition = [x1, y1];\r\n        this.transPosition()\r\n    }\r\n    getAngle(){\r\n        // console.log(this.toPosition)\r\n        this.angle = Math.atan2(this.toPosition[1],this.toPosition[0]);\r\n        return this.angle;\r\n    }\r\n    //获取到角度\r\n    remove() {\r\n        this.elem.parentNode.removeChild(this.elem);\r\n    }\r\n}","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nimport { Stage } from '.';\r\n//描述设计\r\nexport default class Descript  implements  IScreen{\r\n    constructor(public stage:Stage) {\r\n        console.log(arguments)\r\n    }\r\n    create(resolve:Function) {\r\n       this.stage.canvas.addEventListener('touchstart',() => {\r\n            console.log('touch...')\r\n            // this.stage.canvas.removeEventListener('touchstart');\r\n            resolve()\r\n        })\r\n    }\r\n    remove(){\r\n        this.stage.clear();\r\n    }\r\n}","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nexport default class GameOver implements IScreen {\r\n    elem: HTMLElement;\r\n    textElem: HTMLElement;\r\n    constructor(public btntitle: string) {\r\n\r\n    }\r\n    create(callback?: Function, text: string = '') {\r\n        this.elem = document.createElement('div');\r\n        this.elem.className = 'gameOver';\r\n        this.textElem = document.createElement('div');\r\n        this.textElem.className = 'text';\r\n        this.textElem.innerHTML = text;\r\n        this.elem.appendChild(this.textElem);\r\n        let btn = document.createElement('button');\r\n        btn.className = \"button\"\r\n        btn.innerText = this.btntitle;\r\n        btn.addEventListener('touchstart', function (event:TouchEvent) {\r\n            callback.call(this)\r\n        }.bind(this),false);\r\n        // btn.onclick = callback.bind(this);\r\n        this.elem.appendChild(btn)\r\n        return this.elem;\r\n    }\r\n    setText(text: string = '') {\r\n        this.textElem.innerHTML = text;\r\n    }\r\n    remove() {\r\n        this.elem.parentNode.removeChild(this.elem);\r\n    }\r\n\r\n}","\r\nimport JY,{STATE} from './jy';\r\nimport Control from './control';\r\nimport Descript from './descript';\r\nimport GameOver from './gameOver';\r\nimport IScreen from './iScreen';\r\nimport Sprite from './sprite';\r\nimport Stage from './stage';\r\nimport Title from './title';\r\nimport lib from '../src/lib';\r\nexport {\r\n    JY,\r\n    lib,\r\n    STATE,\r\n    Control,\r\n    Descript,\r\n    GameOver,\r\n    IScreen,\r\n    Sprite,\r\n    Stage,\r\n    Title\r\n}","/*\r\n/// <reference path=\"sprite.ts\" />\r\n/// <reference path=\"title.ts\" />\r\n/// <reference path=\"descript.ts\" />\r\n/// <reference path=\"gameOver.ts\" />\r\n/// <reference path=\"stage.ts\" />\r\n/// <reference path=\"control.ts\" />\r\n*/\r\nimport Sprite, { SHAPE } from './sprite';\r\nimport Title from './title';\r\nimport Descript from './descript';\r\nimport GameOver from './gameOver';\r\nimport Stage from './stage';\r\nimport Control from './control';\r\nimport lib from './lib';\r\nimport './adpater';\r\n//游戏主框架\r\nexport enum STATE {\r\n    loading,\r\n    title,\r\n    descript,\r\n    newGame,\r\n    running,\r\n    gameOver\r\n}\r\nexport default class JY {\r\n    private func: Function = new Function;\r\n    private timer: any;\r\n    private aniId: number;\r\n    private currentState: STATE;\r\n    private ispause: boolean = false;//是否处于暂停状态\r\n    protected interval: number = 10;\r\n    protected context: CanvasRenderingContext2D;\r\n    resources:string[]=[];\r\n    constructor(public stage: Stage, public titleStage?: Title, public descriptStage?: Descript, public gameOverStage?: GameOver, public controlStage?: Control) {\r\n        this.context = stage.context;\r\n        // this.setup();\r\n    }\r\n    setup() {\r\n        this.stage.draw();\r\n        this.currentState = STATE.loading;\r\n        this.setState(STATE.loading);\r\n        this.loop();\r\n    }\r\n    // 实现游戏帧循环\r\n    async loop() {\r\n        if (!this.ispause) {\r\n            await this.func();\r\n        }\r\n        this.aniId = requestAnimationFrame(this.loop.bind(this));\r\n    }\r\n    createControl() {\r\n    }\r\n    //新的开始\r\n    protected newGame() {\r\n        //游戏开始，清空场景\r\n        //打开计时器\r\n        this.setState(STATE.running);\r\n    }\r\n    //结束 \r\n    protected over() {\r\n        this.setState(STATE.gameOver);\r\n    }\r\n    //暂停\r\n    protected pause() {\r\n        this.ispause = true;\r\n        window.cancelAnimationFrame(this.aniId);\r\n    }\r\n    //暂停后的继续\r\n    protected play() {\r\n        this.ispause = false;\r\n        this.loop();\r\n    }\r\n    //游戏结束\r\n    protected gameOver() {\r\n        //游戏结束\r\n        //清空场景，显示结果\r\n        console.log('gameOver');\r\n        this.stage.clear();\r\n        this.showGameOver();\r\n    }\r\n    //结束画面\r\n    async showGameOver() {\r\n        console.log('game  over...')\r\n        await lib.waitMoment(3000);\r\n    }\r\n    //游戏中的\r\n    running() {\r\n        console.log('running...')\r\n    }\r\n    async loading() {\r\n        console.log('loading....')\r\n        await this.showLoading();\r\n        console.log('loading end...')\r\n        this.setState(STATE.title)\r\n    }\r\n    showLoading() {\r\n        lib.write(this.stage, '正在加载中')\r\n        return lib.loadResources(this.resources)\r\n    }\r\n    async title() {\r\n        console.log('title....');\r\n        await this.showTitle();\r\n        this.setState(STATE.descript);\r\n    }\r\n    showTitle() {\r\n        // this.titleStage.create()\r\n        // return lib.waitMoment(3000);\r\n        return new Promise(resolve => {\r\n            this.titleStage.create(resolve);\r\n        });\r\n    }\r\n    async descript() {\r\n        console.log('descript...');\r\n        await this.showDescript();\r\n        this.setState(STATE.newGame);\r\n    }\r\n    showDescript() {\r\n        return new Promise(resolve => {\r\n            this.descriptStage.create(resolve);\r\n        });\r\n        // return lib.waitMoment(3000);\r\n    }\r\n    proxy(stageFunc: Function) {\r\n        this.stage.clear();\r\n        return stageFunc.bind(this);\r\n    }\r\n    //检查状态\r\n    checkState() {\r\n        switch (this.currentState) {\r\n            case STATE.loading:\r\n                this.func = this.proxy(this.loading);\r\n                break;\r\n            case STATE.title:\r\n                this.func = this.proxy(this.title);\r\n                break;\r\n            case STATE.descript:\r\n                this.func = this.proxy(this.descript);\r\n                break;\r\n            case STATE.newGame:\r\n                this.func = this.proxy(this.newGame);\r\n                break;\r\n            case STATE.running:\r\n                this.func = this.proxy(this.running);\r\n                break;\r\n            case STATE.gameOver:\r\n                this.func = this.proxy(this.gameOver);\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    setState(state?: STATE) {\r\n        this.currentState = state;\r\n        this.checkState();\r\n        // this.func();\r\n    }\r\n    //碰撞检测\r\n    hits(oA: Sprite, oB: Sprite) {\r\n        var bx = false,\r\n            by = false;\r\n        if (oA.type == SHAPE.rect) {\r\n            var bw = oB.width;\r\n            var aw = oA.width;\r\n            var bh = oB.height;\r\n            var ah = oA.height;\r\n            if (oA.x > oB.x) {\r\n                bx = oA.x - oB.x < bw;\r\n            } else if (oA.x < oB.x) {\r\n                bx = oB.x - oA.x < aw;\r\n            } else {\r\n                bx = true;\r\n            };\r\n            if (oA.y > oB.y) {\r\n                by = oA.y - oB.y < bh;\r\n            } else if (oA.y < oB.y) {\r\n                by = oB.y - oA.y < ah;\r\n            } else {\r\n                by = true;\r\n            };\r\n            return (bx && by);\r\n        } else if (oA.type == SHAPE.circle) {\r\n            var r2 = oA.r + oB.r;\r\n            let oAc = oA.getCenter();\r\n            let oBc = oB.getCenter();\r\n            bx = Math.abs(oAc[0] - oBc[0]) < r2;\r\n            by = Math.abs(oAc[1] - oBc[1]) < r2;\r\n            return (bx && by);\r\n        }\r\n    }\r\n}","import { Stage } from \".\";\r\nimport Adapter from './adpater'\r\nconst lib =  {\r\n    //暂停一段时间\r\n    async waitMoment(second: number) {\r\n        return new Promise(resolve => {\r\n            let t = setTimeout(() => {\r\n                clearTimeout(t)\r\n                resolve();\r\n            }, second)\r\n        })\r\n    },\r\n    //显示文字\r\n    write(stage: Stage, text: string, x?: number, y?: number, font: string = \"14px Arial\", fillStyle: string = '#000000') {\r\n        let context = stage.context;\r\n        context.font = font;\r\n        context.fillStyle = fillStyle;\r\n        if (x == undefined) {\r\n            x = (stage.width - text.length * 14) / 2;\r\n        }\r\n\r\n        if (y == undefined) {\r\n            y = stage.height / 2 - 15;\r\n        }\r\n\r\n        context.fillText(text, x, y)\r\n    },\r\n    //导入图片\r\n    draw(stage: Stage, img: string, dx: number, dy: number, dWidth?: number, dHeight?: number, sx?: number, sy?: number, sWidth?: number, sHeight?: number) {\r\n        let context = stage.context;\r\n        // let image = wx.createImage();\r\n        let image = this.caches[img];\r\n        let args = Array.prototype.slice.call(arguments, 2);\r\n        args.unshift(image);\r\n        console.log('draw', img)\r\n        // image.onload = ()=>{\r\n        //     context.drawImage.call(context,...args);\r\n        // } \r\n        // image.src = img;\r\n        context.drawImage.call(context, ...args);\r\n    },\r\n    //取区间数的随机值\r\n    random(min: number, max: number) {\r\n        return Math.floor(Math.random() * (max - min) + min);\r\n    },\r\n    caches: {},\r\n    loadResources(files) {\r\n        // let cache = {};\r\n        let arr = [];\r\n        return new Promise((resolve, reject) => {\r\n            for (let k in files) {\r\n                if (/\\.(jpg|gif|png|bmg|jpeg)/.test(files[k])) {\r\n                    //图片的预加载\r\n                    arr.push(new Promise(resolve => {\r\n                        let image = new Image();\r\n                        image.onload = () => {\r\n                            this.caches[files[k]] = image;\r\n                            resolve();\r\n                        }\r\n                        image.src = files[k];\r\n                    })\r\n                    )\r\n                } else\r\n                    if (/\\.(mp3|wav|avi|m4a|aac)/.test(files[k])) {\r\n                        //音频\r\n                        arr.push(new Promise(resolve => {\r\n                            let audio = new Audio();\r\n                            audio.addEventListener('canplay', () => {\r\n                                this.caches[files[k]] = audio;\r\n                                resolve();\r\n                            })\r\n                            audio.src = files[k];\r\n                            // console.log(2222)\r\n                        })\r\n                        )\r\n                    }\r\n            }\r\n            return Promise.all(arr).catch((e) => {\r\n                console.log('加载资源出错.')\r\n                reject(e);\r\n            }).then(() => {\r\n                console.log('加载资源完成.')\r\n                resolve();\r\n            })\r\n        })\r\n    },\r\n    play(url) {\r\n        //播放声音\r\n        this.caches[url].stop();\r\n        this.caches[url].play();\r\n    },\r\n    createCanvas(){\r\n        return Adapter.createCanvas();\r\n    },\r\n    addEventListener(target,type,handle){\r\n        return Adapter.addEventListener(target,type,handle)\r\n    },\r\n    removeEventListener(target,type,handle?){\r\n        return Adapter.removeEventListener(target,type,handle)\r\n    },\r\n    dispatchEvent(target,type){\r\n        return Adapter.dispatchEvent(target,type)\r\n    }\r\n}\r\nlet events = ['createCanvas','addEventListener','removeEventListener','dispatchEvent'];\r\nevents.forEach(item=>{\r\n    lib[item] = Adapter[item].bind(Adapter);\r\n})\r\nexport default lib;","import lib from \"./lib\";\r\nimport { Stage } from \".\";\r\n\r\n//sprite\r\n//形状\r\nexport enum SHAPE {\r\n    rect,\r\n    circle\r\n}\r\ninterface SP {\r\n    x: number,\r\n    y: number,\r\n    width: number,\r\n    height: number,\r\n    visible: boolean,\r\n    type: SHAPE\r\n}\r\n/**\r\n * 游戏基础的精灵类\r\n */\r\nexport default class Sprite implements SP {\r\n    width: number;\r\n    height: number;\r\n    x: number;\r\n    y: number;\r\n    visible: boolean;\r\n    type: SHAPE = SHAPE.rect;\r\n    r:number = 0 ;//半径\r\n    constructor(public stage: Stage, public imgSrc = '', width = 0, height = 0, x = 0, y = 0) {\r\n\r\n        this.width = width\r\n        this.height = height\r\n\r\n        this.x = x\r\n        this.y = y\r\n\r\n        this.visible = true\r\n    }\r\n\r\n    /**\r\n     * 将精灵图绘制在canvas上\r\n     */\r\n    draw() {\r\n        if (!this.visible)\r\n            return\r\n        lib.draw(\r\n            this.stage,\r\n            this.imgSrc,\r\n            this.x,\r\n            this.y,\r\n            this.width,\r\n            this.height\r\n        )\r\n    }\r\n\r\n    /**\r\n     * 简单的碰撞检测定义：\r\n     * 另一个精灵的中心点处于本精灵所在的矩形内即可\r\n     * @param{Sprite} sp: Sptite的实例\r\n     */\r\n    hits(sp: any) {\r\n        let spX = sp.x + sp.width / 2\r\n        let spY = sp.y + sp.height / 2\r\n\r\n        if (!this.visible || !sp.visible)\r\n            return false\r\n\r\n        return !!(spX >= this.x\r\n            && spX <= this.x + this.width\r\n            && spY >= this.y\r\n            && spY <= this.y + this.height)\r\n    }\r\n    touchHits(e, callback?: Function) {\r\n        let touch = e.touches[0];\r\n        if (this.hits({ x: touch.clientX, y: touch.clientY, width: 0, height: 0, visible: true })) {\r\n            callback && callback.call(this)\r\n        }\r\n    }\r\n    getCenter(){\r\n        //圆心位置\r\n        return [this.x +this.r,this.y +this.r];\r\n    }\r\n}\r\n","//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nexport default class Stage {\r\n    context: CanvasRenderingContext2D;\r\n    constructor(public canvas:HTMLCanvasElement, public width: number, public height: number, public style?: string) {\r\n        this.context = canvas.getContext('2d');\r\n    }\r\n    draw(style?:string){\r\n        this.context.fillStyle=this.style;\r\n        this.context.fillRect(0,0,this.width,this.height)\r\n    }\r\n    //清空布景\r\n    clear(){\r\n        this.context.clearRect(0,0,this.width,this.height);\r\n        this.draw();\r\n    }\r\n}\r\n","//描述设计\r\n//// <reference path=\"iScreen.ts\" />\r\nimport IScreen from './iScreen'\r\nimport { Stage } from '.';\r\nimport lib from './lib';\r\n\r\nexport default class Title  implements  IScreen{\r\n    constructor(public title:string,private stage:Stage) {\r\n        // console.log(arguments)\r\n    }\r\n    create(resolve) {\r\n        lib.write(this.stage,this.title)\r\n        lib.waitMoment(3000);\r\n        resolve();\r\n    }\r\n    remove(){\r\n        this.stage.clear();\r\n    }\r\n}","/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {}\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t}\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__)\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\"\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0)\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tif (!window['wx']) {\n\t\treturn {};\n\t}\n\tvar _window2 = __webpack_require__(1)\n\n\tvar _window = _interopRequireWildcard(_window2)\n\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key] } } newObj.default = obj; return newObj } }\n\n\tvar global = GameGlobal\n\n\tfunction inject() {\n\t  _window.addEventListener = _window.canvas.addEventListener = function (type, listener) {\n\t    _window.document.addEventListener(type, listener)\n\t  }\n\t  _window.removeEventListener = _window.canvas.removeEventListener = function (type, listener) {\n\t    _window.document.removeEventListener(type, listener)\n\t  }\n\n\t  var _wx$getSystemInfoSync = wx.getSystemInfoSync(),\n\t      platform = _wx$getSystemInfoSync.platform\n\n\t  // 开发者工具无法重定义 window\n\n\n\t  if (typeof __devtoolssubcontext === 'undefined' && platform === 'devtools') {\n\t    for (var key in _window) {\n\t      var descriptor = Object.getOwnPropertyDescriptor(global, key)\n\n\t      if (!descriptor || descriptor.configurable === true) {\n\t        Object.defineProperty(window, key, {\n\t          value: _window[key]\n\t        })\n\t      }\n\t    }\n\n\t    for (var _key in _window.document) {\n\t      var _descriptor = Object.getOwnPropertyDescriptor(global.document, _key)\n\n\t      if (!_descriptor || _descriptor.configurable === true) {\n\t        Object.defineProperty(global.document, _key, {\n\t          value: _window.document[_key]\n\t        })\n\t      }\n\t    }\n\t    window.parent = window\n\t  } else {\n\t    for (var _key2 in _window) {\n\t      global[_key2] = _window[_key2]\n\t    }\n\t    global.window = _window\n\t    window = global\n\t    window.top = window.parent = window\n\t  }\n\t}\n\n\tif (!GameGlobal.__isAdapterInjected) {\n\t  GameGlobal.__isAdapterInjected = true\n\t  inject()\n\t}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\tif (!window['wx']) {\n\t\treturn {};\n\t}\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\texports.cancelAnimationFrame = exports.requestAnimationFrame = exports.clearInterval = exports.clearTimeout = exports.setInterval = exports.setTimeout = exports.canvas = exports.location = exports.localStorage = exports.HTMLElement = exports.FileReader = exports.Audio = exports.Image = exports.WebSocket = exports.XMLHttpRequest = exports.navigator = exports.document = undefined\n\n\tvar _WindowProperties = __webpack_require__(2)\n\n\tObject.keys(_WindowProperties).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _WindowProperties[key]\n\t    }\n\t  })\n\t})\n\n\tvar _constructor = __webpack_require__(3)\n\n\tObject.keys(_constructor).forEach(function (key) {\n\t  if (key === \"default\" || key === \"__esModule\") return\n\t  Object.defineProperty(exports, key, {\n\t    enumerable: true,\n\t    get: function get() {\n\t      return _constructor[key]\n\t    }\n\t  })\n\t})\n\n\tvar _Canvas = __webpack_require__(9)\n\n\tvar _Canvas2 = _interopRequireDefault(_Canvas)\n\n\tvar _document2 = __webpack_require__(10)\n\n\tvar _document3 = _interopRequireDefault(_document2)\n\n\tvar _navigator2 = __webpack_require__(17)\n\n\tvar _navigator3 = _interopRequireDefault(_navigator2)\n\n\tvar _XMLHttpRequest2 = __webpack_require__(18)\n\n\tvar _XMLHttpRequest3 = _interopRequireDefault(_XMLHttpRequest2)\n\n\tvar _WebSocket2 = __webpack_require__(19)\n\n\tvar _WebSocket3 = _interopRequireDefault(_WebSocket2)\n\n\tvar _Image2 = __webpack_require__(11)\n\n\tvar _Image3 = _interopRequireDefault(_Image2)\n\n\tvar _Audio2 = __webpack_require__(12)\n\n\tvar _Audio3 = _interopRequireDefault(_Audio2)\n\n\tvar _FileReader2 = __webpack_require__(20)\n\n\tvar _FileReader3 = _interopRequireDefault(_FileReader2)\n\n\tvar _HTMLElement2 = __webpack_require__(4)\n\n\tvar _HTMLElement3 = _interopRequireDefault(_HTMLElement2)\n\n\tvar _localStorage2 = __webpack_require__(21)\n\n\tvar _localStorage3 = _interopRequireDefault(_localStorage2)\n\n\tvar _location2 = __webpack_require__(22)\n\n\tvar _location3 = _interopRequireDefault(_location2)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\texports.document = _document3.default\n\texports.navigator = _navigator3.default\n\texports.XMLHttpRequest = _XMLHttpRequest3.default\n\texports.WebSocket = _WebSocket3.default\n\texports.Image = _Image3.default\n\texports.Audio = _Audio3.default\n\texports.FileReader = _FileReader3.default\n\texports.HTMLElement = _HTMLElement3.default\n\texports.localStorage = _localStorage3.default\n\texports.location = _location3.default\n\n\n\t// 暴露全局的 canvas\n\tvar canvas = new _Canvas2.default()\n\n\texports.canvas = canvas\n\texports.setTimeout = setTimeout\n\texports.setInterval = setInterval\n\texports.clearTimeout = clearTimeout\n\texports.clearInterval = clearInterval\n\texports.requestAnimationFrame = requestAnimationFrame\n\texports.cancelAnimationFrame = cancelAnimationFrame\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n\t\"use strict\"\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _wx$getSystemInfoSync = wx.getSystemInfoSync(),\n\t    screenWidth = _wx$getSystemInfoSync.screenWidth,\n\t    screenHeight = _wx$getSystemInfoSync.screenHeight,\n\t    devicePixelRatio = _wx$getSystemInfoSync.devicePixelRatio\n\n\tvar innerWidth = exports.innerWidth = screenWidth\n\tvar innerHeight = exports.innerHeight = screenHeight\n\texports.devicePixelRatio = devicePixelRatio\n\tvar screen = exports.screen = {\n\t  availWidth: innerWidth,\n\t  availHeight: innerHeight\n\t}\n\tvar performance = exports.performance = {\n\t  now: function now() {\n\t    return Date.now() / 1000\n\t  }\n\t}\n\tvar ontouchstart = exports.ontouchstart = null\n\tvar ontouchmove = exports.ontouchmove = null\n\tvar ontouchend = exports.ontouchend = null\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\texports.HTMLCanvasElement = exports.HTMLImageElement = undefined\n\n\tvar _HTMLElement3 = __webpack_require__(4)\n\n\tvar _HTMLElement4 = _interopRequireDefault(_HTMLElement3)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\") } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass) } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass }\n\n\tvar HTMLImageElement = exports.HTMLImageElement = function (_HTMLElement) {\n\t  _inherits(HTMLImageElement, _HTMLElement)\n\n\t  function HTMLImageElement() {\n\t    _classCallCheck(this, HTMLImageElement)\n\n\t    return _possibleConstructorReturn(this, (HTMLImageElement.__proto__ || Object.getPrototypeOf(HTMLImageElement)).call(this, 'img'))\n\t  }\n\n\t  return HTMLImageElement\n\t}(_HTMLElement4.default)\n\n\tvar HTMLCanvasElement = exports.HTMLCanvasElement = function (_HTMLElement2) {\n\t  _inherits(HTMLCanvasElement, _HTMLElement2)\n\n\t  function HTMLCanvasElement() {\n\t    _classCallCheck(this, HTMLCanvasElement)\n\n\t    return _possibleConstructorReturn(this, (HTMLCanvasElement.__proto__ || Object.getPrototypeOf(HTMLCanvasElement)).call(this, 'canvas'))\n\t  }\n\n\t  return HTMLCanvasElement\n\t}(_HTMLElement4.default)\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor) } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor } }()\n\n\tvar _Element2 = __webpack_require__(5)\n\n\tvar _Element3 = _interopRequireDefault(_Element2)\n\n\tvar _util = __webpack_require__(8)\n\n\tvar _WindowProperties = __webpack_require__(2)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\") } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass) } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass }\n\n\tvar HTMLElement = function (_Element) {\n\t  _inherits(HTMLElement, _Element)\n\n\t  function HTMLElement() {\n\t    var tagName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''\n\n\t    _classCallCheck(this, HTMLElement)\n\n\t    var _this = _possibleConstructorReturn(this, (HTMLElement.__proto__ || Object.getPrototypeOf(HTMLElement)).call(this))\n\n\t    _this.className = ''\n\t    _this.childern = []\n\t    _this.style = {\n\t      width: _WindowProperties.innerWidth + 'px',\n\t      height: _WindowProperties.innerHeight + 'px'\n\t    }\n\t    _this.insertBefore = _util.noop\n\t    _this.innerHTML = ''\n\n\t    _this.tagName = tagName.toUpperCase()\n\t    return _this\n\t  }\n\n\t  _createClass(HTMLElement, [{\n\t    key: 'setAttribute',\n\t    value: function setAttribute(name, value) {\n\t      this[name] = value\n\t    }\n\t  }, {\n\t    key: 'getAttribute',\n\t    value: function getAttribute(name) {\n\t      return this[name]\n\t    }\n\t  }, {\n\t    key: 'getBoundingClientRect',\n\t    value: function getBoundingClientRect() {\n\t      return {\n\t        top: 0,\n\t        left: 0,\n\t        width: _WindowProperties.innerWidth,\n\t        height: _WindowProperties.innerHeight\n\t      }\n\t    }\n\t  }, {\n\t    key: 'focus',\n\t    value: function focus() {}\n\t  }, {\n\t    key: 'clientWidth',\n\t    get: function get() {\n\t      var ret = parseInt(this.style.fontSize, 10) * this.innerHTML.length\n\n\t      return Number.isNaN(ret) ? 0 : ret\n\t    }\n\t  }, {\n\t    key: 'clientHeight',\n\t    get: function get() {\n\t      var ret = parseInt(this.style.fontSize, 10)\n\n\t      return Number.isNaN(ret) ? 0 : ret\n\t    }\n\t  }])\n\n\t  return HTMLElement\n\t}(_Element3.default)\n\n\texports.default = HTMLElement\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _Node2 = __webpack_require__(6)\n\n\tvar _Node3 = _interopRequireDefault(_Node2)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\") } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass) } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass }\n\n\tvar ELement = function (_Node) {\n\t  _inherits(ELement, _Node)\n\n\t  function ELement() {\n\t    _classCallCheck(this, ELement)\n\n\t    var _this = _possibleConstructorReturn(this, (ELement.__proto__ || Object.getPrototypeOf(ELement)).call(this))\n\n\t    _this.className = ''\n\t    _this.children = []\n\t    return _this\n\t  }\n\n\t  return ELement\n\t}(_Node3.default)\n\n\texports.default = ELement\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor) } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor } }()\n\n\tvar _EventTarget2 = __webpack_require__(7)\n\n\tvar _EventTarget3 = _interopRequireDefault(_EventTarget2)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\") } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass) } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass }\n\n\tvar Node = function (_EventTarget) {\n\t  _inherits(Node, _EventTarget)\n\n\t  function Node() {\n\t    _classCallCheck(this, Node)\n\n\t    var _this = _possibleConstructorReturn(this, (Node.__proto__ || Object.getPrototypeOf(Node)).call(this))\n\n\t    _this.childNodes = []\n\t    return _this\n\t  }\n\n\t  _createClass(Node, [{\n\t    key: 'appendChild',\n\t    value: function appendChild(node) {\n\t      if (node instanceof Node) {\n\t        this.childNodes.push(node)\n\t      } else {\n\t        throw new TypeError('Failed to executed \\'appendChild\\' on \\'Node\\': parameter 1 is not of type \\'Node\\'.')\n\t      }\n\t    }\n\t  }, {\n\t    key: 'cloneNode',\n\t    value: function cloneNode() {\n\t      var copyNode = Object.create(this)\n\n\t      Object.assign(copyNode, this)\n\t      return copyNode\n\t    }\n\t  }, {\n\t    key: 'removeChild',\n\t    value: function removeChild(node) {\n\t      var index = this.childNodes.findIndex(function (child) {\n\t        return child === node\n\t      })\n\n\t      if (index > -1) {\n\t        return this.childNodes.splice(index, 1)\n\t      }\n\t      return null\n\t    }\n\t  }])\n\n\t  return Node\n\t}(_EventTarget3.default)\n\n\texports.default = Node\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor) } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor } }()\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tvar _events = new WeakMap()\n\n\tvar EventTarget = function () {\n\t  function EventTarget() {\n\t    _classCallCheck(this, EventTarget)\n\n\t    _events.set(this, {})\n\t  }\n\n\t  _createClass(EventTarget, [{\n\t    key: 'addEventListener',\n\t    value: function addEventListener(type, listener) {\n\t      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {}\n\n\t      var events = _events.get(this)\n\n\t      if (!events) {\n\t        events = {}\n\t        _events.set(this, events)\n\t      }\n\t      if (!events[type]) {\n\t        events[type] = []\n\t      }\n\t      events[type].push(listener)\n\n\t      if (options.capture) {\n\t        console.warn('EventTarget.addEventListener: options.capture is not implemented.')\n\t      }\n\t      if (options.once) {\n\t        console.warn('EventTarget.addEventListener: options.once is not implemented.')\n\t      }\n\t      if (options.passive) {\n\t        console.warn('EventTarget.addEventListener: options.passive is not implemented.')\n\t      }\n\t    }\n\t  }, {\n\t    key: 'removeEventListener',\n\t    value: function removeEventListener(type, listener) {\n\t      var listeners = _events.get(this)[type]\n\n\t      if (listeners && listeners.length > 0) {\n\t        for (var i = listeners.length; i--; i > 0) {\n\t          if (listeners[i] === listener) {\n\t            listeners.splice(i, 1)\n\t            break\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'dispatchEvent',\n\t    value: function dispatchEvent() {\n\t      var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}\n\n\t      var listeners = _events.get(this)[event.type]\n\n\t      if (listeners) {\n\t        for (var i = 0; i < listeners.length; i++) {\n\t          listeners[i](event)\n\t        }\n\t      }\n\t    }\n\t  }])\n\n\t  return EventTarget\n\t}()\n\n\texports.default = EventTarget\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\t\"use strict\"\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\texports.noop = noop\n\tfunction noop() {}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\texports.default = Canvas\n\n\tvar _constructor = __webpack_require__(3)\n\n\tvar _HTMLElement = __webpack_require__(4)\n\n\tvar _HTMLElement2 = _interopRequireDefault(_HTMLElement)\n\n\tvar _document = __webpack_require__(10)\n\n\tvar _document2 = _interopRequireDefault(_document)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tvar hasModifiedCanvasPrototype = false\n\tvar hasInit2DContextConstructor = false\n\tvar hasInitWebGLContextConstructor = false\n\n\tfunction Canvas() {\n\t  var canvas = wx.createCanvas()\n\n\t  canvas.type = 'canvas'\n\n\t  canvas.__proto__.__proto__ = new _HTMLElement2.default('canvas')\n\n\t  var _getContext = canvas.getContext\n\n\t  canvas.getBoundingClientRect = function () {\n\t    var ret = {\n\t      top: 0,\n\t      left: 0,\n\t      width: window.innerWidth,\n\t      height: window.innerHeight\n\t    }\n\t    return ret\n\t  }\n\n\t  return canvas\n\t}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _window = __webpack_require__(1)\n\n\tvar window = _interopRequireWildcard(_window)\n\n\tvar _HTMLElement = __webpack_require__(4)\n\n\tvar _HTMLElement2 = _interopRequireDefault(_HTMLElement)\n\n\tvar _Image = __webpack_require__(11)\n\n\tvar _Image2 = _interopRequireDefault(_Image)\n\n\tvar _Audio = __webpack_require__(12)\n\n\tvar _Audio2 = _interopRequireDefault(_Audio)\n\n\tvar _Canvas = __webpack_require__(9)\n\n\tvar _Canvas2 = _interopRequireDefault(_Canvas)\n\n\t__webpack_require__(15)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key] } } newObj.default = obj; return newObj } }\n\n\tvar events = {}\n\n\tvar document = {\n\t  readyState: 'complete',\n\t  visibilityState: 'visible',\n\t  documentElement: window,\n\t  hidden: false,\n\t  style: {},\n\t  location: window.location,\n\t  ontouchstart: null,\n\t  ontouchmove: null,\n\t  ontouchend: null,\n\n\t  head: new _HTMLElement2.default('head'),\n\t  body: new _HTMLElement2.default('body'),\n\n\t  createElement: function createElement(tagName) {\n\t    if (tagName === 'canvas') {\n\t      return new _Canvas2.default()\n\t    } else if (tagName === 'audio') {\n\t      return new _Audio2.default()\n\t    } else if (tagName === 'img') {\n\t      return new _Image2.default()\n\t    }\n\n\t    return new _HTMLElement2.default(tagName)\n\t  },\n\t  getElementById: function getElementById(id) {\n\t    if (id === window.canvas.id) {\n\t      return window.canvas\n\t    }\n\t    return null\n\t  },\n\t  getElementsByTagName: function getElementsByTagName(tagName) {\n\t    if (tagName === 'head') {\n\t      return [document.head]\n\t    } else if (tagName === 'body') {\n\t      return [document.body]\n\t    } else if (tagName === 'canvas') {\n\t      return [window.canvas]\n\t    }\n\t    return []\n\t  },\n\t  querySelector: function querySelector(query) {\n\t    if (query === 'head') {\n\t      return document.head\n\t    } else if (query === 'body') {\n\t      return document.body\n\t    } else if (query === 'canvas') {\n\t      return window.canvas\n\t    } else if (query === '#' + window.canvas.id) {\n\t      return window.canvas\n\t    }\n\t    return null\n\t  },\n\t  querySelectorAll: function querySelectorAll(query) {\n\t    if (query === 'head') {\n\t      return [document.head]\n\t    } else if (query === 'body') {\n\t      return [document.body]\n\t    } else if (query === 'canvas') {\n\t      return [window.canvas]\n\t    }\n\t    return []\n\t  },\n\t  addEventListener: function addEventListener(type, listener) {\n\t    if (!events[type]) {\n\t      events[type] = []\n\t    }\n\t    events[type].push(listener)\n\t  },\n\t  removeEventListener: function removeEventListener(type, listener) {\n\t    var listeners = events[type]\n\n\t    if (listeners && listeners.length > 0) {\n\t      for (var i = listeners.length; i--; i > 0) {\n\t        if (listeners[i] === listener) {\n\t          listeners.splice(i, 1)\n\t          break\n\t        }\n\t      }\n\t    }\n\t  },\n\t  dispatchEvent: function dispatchEvent(event) {\n\t    var listeners = events[event.type]\n\n\t    if (listeners) {\n\t      for (var i = 0; i < listeners.length; i++) {\n\t        listeners[i](event)\n\t      }\n\t    }\n\t  }\n\t}\n\n\texports.default = document\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\t\"use strict\"\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\texports.default = Image\n\tfunction Image() {\n\t  var image = wx.createImage()\n\n\t  return image\n\t}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor) } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor } }()\n\n\tvar _HTMLAudioElement2 = __webpack_require__(13)\n\n\tvar _HTMLAudioElement3 = _interopRequireDefault(_HTMLAudioElement2)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\") } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass) } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass }\n\n\tvar HAVE_NOTHING = 0\n\tvar HAVE_METADATA = 1\n\tvar HAVE_CURRENT_DATA = 2\n\tvar HAVE_FUTURE_DATA = 3\n\tvar HAVE_ENOUGH_DATA = 4\n\n\tvar _innerAudioContext = new WeakMap()\n\tvar _src = new WeakMap()\n\tvar _loop = new WeakMap()\n\tvar _autoplay = new WeakMap()\n\n\tvar Audio = function (_HTMLAudioElement) {\n\t  _inherits(Audio, _HTMLAudioElement)\n\n\t  function Audio(url) {\n\t    _classCallCheck(this, Audio)\n\n\t    var _this = _possibleConstructorReturn(this, (Audio.__proto__ || Object.getPrototypeOf(Audio)).call(this))\n\n\t    _this.HAVE_NOTHING = HAVE_NOTHING\n\t    _this.HAVE_METADATA = HAVE_METADATA\n\t    _this.HAVE_CURRENT_DATA = HAVE_CURRENT_DATA\n\t    _this.HAVE_FUTURE_DATA = HAVE_FUTURE_DATA\n\t    _this.HAVE_ENOUGH_DATA = HAVE_ENOUGH_DATA\n\t    _this.readyState = HAVE_NOTHING\n\n\n\t    _src.set(_this, '')\n\n\t    var innerAudioContext = wx.createInnerAudioContext()\n\n\t    _innerAudioContext.set(_this, innerAudioContext)\n\n\t    innerAudioContext.onCanplay(function () {\n\t      _this.dispatchEvent({ type: 'load' })\n\t      _this.dispatchEvent({ type: 'loadend' })\n\t      _this.dispatchEvent({ type: 'canplay' })\n\t      _this.dispatchEvent({ type: 'canplaythrough' })\n\t      _this.dispatchEvent({ type: 'loadedmetadata' })\n\t      _this.readyState = HAVE_CURRENT_DATA\n\t    })\n\t    innerAudioContext.onPlay(function () {\n\t      _this.dispatchEvent({ type: 'play' })\n\t    })\n\t    innerAudioContext.onPause(function () {\n\t      _this.dispatchEvent({ type: 'pause' })\n\t    })\n\t    innerAudioContext.onEnded(function () {\n\t      _this.dispatchEvent({ type: 'ended' })\n\t      _this.readyState = HAVE_ENOUGH_DATA\n\t    })\n\t    innerAudioContext.onError(function () {\n\t      _this.dispatchEvent({ type: 'error' })\n\t    })\n\n\t    if (url) {\n\t      _innerAudioContext.get(_this).src = url\n\t    }\n\t    return _this\n\t  }\n\n\t  _createClass(Audio, [{\n\t    key: 'load',\n\t    value: function load() {\n\t      console.warn('HTMLAudioElement.load() is not implemented.')\n\t    }\n\t  }, {\n\t    key: 'play',\n\t    value: function play() {\n\t      _innerAudioContext.get(this).play()\n\t    }\n\t  }, {\n\t    key: 'pause',\n\t    value: function pause() {\n\t      _innerAudioContext.get(this).pause()\n\t    }\n\t  }, {\n\t    key: 'canPlayType',\n\t    value: function canPlayType() {\n\t      var mediaType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''\n\n\t      if (typeof mediaType !== 'string') {\n\t        return ''\n\t      }\n\n\t      if (mediaType.indexOf('audio/mpeg') > -1 || mediaType.indexOf('audio/mp4')) {\n\t        return 'probably'\n\t      }\n\t      return ''\n\t    }\n\t  }, {\n\t    key: 'cloneNode',\n\t    value: function cloneNode() {\n\t      var newAudio = new Audio()\n\t      newAudio.loop = _innerAudioContext.get(this).loop\n\t      newAudio.autoplay = _innerAudioContext.get(this).loop\n\t      newAudio.src = this.src\n\t      return newAudio\n\t    }\n\t  }, {\n\t    key: 'currentTime',\n\t    get: function get() {\n\t      return _innerAudioContext.get(this).currentTime\n\t    },\n\t    set: function set(value) {\n\t      _innerAudioContext.get(this).seek(value)\n\t    }\n\t  }, {\n\t    key: 'src',\n\t    get: function get() {\n\t      return _src.get(this)\n\t    },\n\t    set: function set(value) {\n\t      _src.set(this, value)\n\t      _innerAudioContext.get(this).src = value\n\t    }\n\t  }, {\n\t    key: 'loop',\n\t    get: function get() {\n\t      return _innerAudioContext.get(this).loop\n\t    },\n\t    set: function set(value) {\n\t      _innerAudioContext.get(this).loop = value\n\t    }\n\t  }, {\n\t    key: 'autoplay',\n\t    get: function get() {\n\t      return _innerAudioContext.get(this).autoplay\n\t    },\n\t    set: function set(value) {\n\t      _innerAudioContext.get(this).autoplay = value\n\t    }\n\t  }, {\n\t    key: 'paused',\n\t    get: function get() {\n\t      return _innerAudioContext.get(this).paused\n\t    }\n\t  }])\n\n\t  return Audio\n\t}(_HTMLAudioElement3.default)\n\n\texports.default = Audio\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _HTMLMediaElement2 = __webpack_require__(14)\n\n\tvar _HTMLMediaElement3 = _interopRequireDefault(_HTMLMediaElement2)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\") } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass) } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass }\n\n\tvar HTMLAudioElement = function (_HTMLMediaElement) {\n\t  _inherits(HTMLAudioElement, _HTMLMediaElement)\n\n\t  function HTMLAudioElement() {\n\t    _classCallCheck(this, HTMLAudioElement)\n\n\t    return _possibleConstructorReturn(this, (HTMLAudioElement.__proto__ || Object.getPrototypeOf(HTMLAudioElement)).call(this, 'audio'))\n\t  }\n\n\t  return HTMLAudioElement\n\t}(_HTMLMediaElement3.default)\n\n\texports.default = HTMLAudioElement\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor) } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor } }()\n\n\tvar _HTMLElement2 = __webpack_require__(4)\n\n\tvar _HTMLElement3 = _interopRequireDefault(_HTMLElement2)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\") } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self }\n\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass) } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass }\n\n\tvar HTMLMediaElement = function (_HTMLElement) {\n\t  _inherits(HTMLMediaElement, _HTMLElement)\n\n\t  function HTMLMediaElement(type) {\n\t    _classCallCheck(this, HTMLMediaElement)\n\n\t    return _possibleConstructorReturn(this, (HTMLMediaElement.__proto__ || Object.getPrototypeOf(HTMLMediaElement)).call(this, type))\n\t  }\n\n\t  _createClass(HTMLMediaElement, [{\n\t    key: 'addTextTrack',\n\t    value: function addTextTrack() {}\n\t  }, {\n\t    key: 'captureStream',\n\t    value: function captureStream() {}\n\t  }, {\n\t    key: 'fastSeek',\n\t    value: function fastSeek() {}\n\t  }, {\n\t    key: 'load',\n\t    value: function load() {}\n\t  }, {\n\t    key: 'pause',\n\t    value: function pause() {}\n\t  }, {\n\t    key: 'play',\n\t    value: function play() {}\n\t  }])\n\n\t  return HTMLMediaElement\n\t}(_HTMLElement3.default)\n\n\texports.default = HTMLMediaElement\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\t__webpack_require__(16)\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tvar _window = __webpack_require__(1)\n\n\tvar window = _interopRequireWildcard(_window)\n\n\tvar _document = __webpack_require__(10)\n\n\tvar _document2 = _interopRequireDefault(_document)\n\n\tvar _util = __webpack_require__(8)\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj } }\n\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key] } } newObj.default = obj; return newObj } }\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tvar TouchEvent = function TouchEvent(type) {\n\t  _classCallCheck(this, TouchEvent)\n\n\t  this.target = window.canvas\n\t  this.currentTarget = window.canvas\n\t  this.touches = []\n\t  this.targetTouches = []\n\t  this.changedTouches = []\n\t  this.preventDefault = _util.noop\n\t  this.stopPropagation = _util.noop\n\n\t  this.type = type\n\t}\n\n\tfunction touchEventHandlerFactory(type) {\n\t  return function (event) {\n\t    var touchEvent = new TouchEvent(type)\n\n\t    touchEvent.touches = event.touches\n\t    touchEvent.targetTouches = Array.prototype.slice.call(event.touches)\n\t    touchEvent.changedTouches = event.changedTouches\n\t    touchEvent.timeStamp = event.timeStamp\n\t    _document2.default.dispatchEvent(touchEvent)\n\t  }\n\t}\n\n\twx.onTouchStart(touchEventHandlerFactory('touchstart'))\n\twx.onTouchMove(touchEventHandlerFactory('touchmove'))\n\twx.onTouchEnd(touchEventHandlerFactory('touchend'))\n\twx.onTouchCancel(touchEventHandlerFactory('touchcancel'))\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _util = __webpack_require__(8)\n\n\t// TODO 需要 wx.getSystemInfo 获取更详细信息\n\tvar _wx$getSystemInfoSync = wx.getSystemInfoSync(),\n\t    platform = _wx$getSystemInfoSync.platform\n\n\tvar navigator = {\n\t  platform: platform,\n\t  language: 'zh-cn',\n\t  appVersion: '5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1',\n\t  userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/zh_CN',\n\t  onLine: true, // TODO 用 wx.getNetworkStateChange 和 wx.onNetworkStateChange 来返回真实的状态\n\n\t  // TODO 用 wx.getLocation 来封装 geolocation\n\t  geolocation: {\n\t    getCurrentPosition: _util.noop,\n\t    watchPosition: _util.noop,\n\t    clearWatch: _util.noop\n\t  }\n\t}\n\n\texports.default = navigator\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor) } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor } }()\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tvar _url = new WeakMap()\n\tvar _method = new WeakMap()\n\tvar _requestHeader = new WeakMap()\n\tvar _responseHeader = new WeakMap()\n\tvar _requestTask = new WeakMap()\n\n\tfunction _triggerEvent(type) {\n\t  if (typeof this['on' + type] === 'function') {\n\t    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t      args[_key - 1] = arguments[_key]\n\t    }\n\n\t    this['on' + type].apply(this, args)\n\t  }\n\t}\n\n\tfunction _changeReadyState(readyState) {\n\t  this.readyState = readyState\n\t  _triggerEvent.call(this, 'readystatechange')\n\t}\n\n\tvar XMLHttpRequest = function () {\n\t  // TODO 没法模拟 HEADERS_RECEIVED 和 LOADING 两个状态\n\t  function XMLHttpRequest() {\n\t    _classCallCheck(this, XMLHttpRequest)\n\n\t    this.onabort = null\n\t    this.onerror = null\n\t    this.onload = null\n\t    this.onloadstart = null\n\t    this.onprogress = null\n\t    this.ontimeout = null\n\t    this.onloadend = null\n\t    this.onreadystatechange = null\n\t    this.readyState = 0\n\t    this.response = null\n\t    this.responseText = null\n\t    this.responseType = ''\n\t    this.responseXML = null\n\t    this.status = 0\n\t    this.statusText = ''\n\t    this.upload = {}\n\t    this.withCredentials = false\n\n\t    _requestHeader.set(this, {\n\t      'content-type': 'application/x-www-form-urlencoded'\n\t    })\n\t    _responseHeader.set(this, {})\n\t  }\n\n\t  /*\n\t   * TODO 这一批事件应该是在 XMLHttpRequestEventTarget.prototype 上面的\n\t   */\n\n\n\t  _createClass(XMLHttpRequest, [{\n\t    key: 'abort',\n\t    value: function abort() {\n\t      var myRequestTask = _requestTask.get(this)\n\n\t      if (myRequestTask) {\n\t        myRequestTask.abort()\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getAllResponseHeaders',\n\t    value: function getAllResponseHeaders() {\n\t      var responseHeader = _responseHeader.get(this)\n\n\t      return Object.keys(responseHeader).map(function (header) {\n\t        return header + ': ' + responseHeader[header]\n\t      }).join('\\n')\n\t    }\n\t  }, {\n\t    key: 'getResponseHeader',\n\t    value: function getResponseHeader(header) {\n\t      return _responseHeader.get(this)[header]\n\t    }\n\t  }, {\n\t    key: 'open',\n\t    value: function open(method, url /* async, user, password 这几个参数在小程序内不支持*/) {\n\t      _method.set(this, method)\n\t      _url.set(this, url)\n\t      _changeReadyState.call(this, XMLHttpRequest.OPENED)\n\t    }\n\t  }, {\n\t    key: 'overrideMimeType',\n\t    value: function overrideMimeType() {}\n\t  }, {\n\t    key: 'send',\n\t    value: function send() {\n\t      var _this = this\n\n\t      var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ''\n\n\t      if (this.readyState !== XMLHttpRequest.OPENED) {\n\t        throw new Error(\"Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.\")\n\t      } else {\n\t        wx.request({\n\t          data: data,\n\t          url: _url.get(this),\n\t          method: _method.get(this),\n\t          header: _requestHeader.get(this),\n\t          responseType: this.responseType,\n\t          success: function success(_ref) {\n\t            var data = _ref.data,\n\t                statusCode = _ref.statusCode,\n\t                header = _ref.header\n\n\t            if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {\n\t              try {\n\t                data = JSON.stringify(data)\n\t              } catch (e) {\n\t                data = data\n\t              }\n\t            }\n\n\t            _this.status = statusCode\n\t            _responseHeader.set(_this, header)\n\t            _triggerEvent.call(_this, 'loadstart')\n\t            _changeReadyState.call(_this, XMLHttpRequest.HEADERS_RECEIVED)\n\t            _changeReadyState.call(_this, XMLHttpRequest.LOADING)\n\n\t            _this.response = data\n\n\t            if (data instanceof ArrayBuffer) {\n\t              _this.responseText = ''\n\t              var bytes = new Uint8Array(data)\n\t              var len = bytes.byteLength\n\n\t              for (var i = 0; i < len; i++) {\n\t                _this.responseText += String.fromCharCode(bytes[i])\n\t              }\n\t            } else {\n\t              _this.responseText = data\n\t            }\n\t            _changeReadyState.call(_this, XMLHttpRequest.DONE)\n\t            _triggerEvent.call(_this, 'load')\n\t            _triggerEvent.call(_this, 'loadend')\n\t          },\n\t          fail: function fail(_ref2) {\n\t            var errMsg = _ref2.errMsg\n\n\t            // TODO 规范错误\n\t            if (errMsg.indexOf('abort') !== -1) {\n\t              _triggerEvent.call(_this, 'abort')\n\t            } else {\n\t              _triggerEvent.call(_this, 'error', errMsg)\n\t            }\n\t            _triggerEvent.call(_this, 'loadend')\n\t          }\n\t        })\n\t      }\n\t    }\n\t  }, {\n\t    key: 'setRequestHeader',\n\t    value: function setRequestHeader(header, value) {\n\t      var myHeader = _requestHeader.get(this)\n\n\t      myHeader[header] = value\n\t      _requestHeader.set(this, myHeader)\n\t    }\n\t  }])\n\n\t  return XMLHttpRequest\n\t}()\n\n\tXMLHttpRequest.UNSEND = 0\n\tXMLHttpRequest.OPENED = 1\n\tXMLHttpRequest.HEADERS_RECEIVED = 2\n\tXMLHttpRequest.LOADING = 3\n\tXMLHttpRequest.DONE = 4\n\texports.default = XMLHttpRequest\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor) } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor } }()\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\tvar _socketTask = new WeakMap()\n\n\tvar WebSocket = function () {\n\t  // TODO 更新 binaryType\n\t  // The connection is in the process of closing.\n\t  // The connection is not yet open.\n\t  function WebSocket(url) {\n\t    var _this = this\n\n\t    var protocols = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : []\n\n\t    _classCallCheck(this, WebSocket)\n\n\t    this.binaryType = ''\n\t    this.bufferedAmount = 0\n\t    this.extensions = ''\n\t    this.onclose = null\n\t    this.onerror = null\n\t    this.onmessage = null\n\t    this.onopen = null\n\t    this.protocol = ''\n\t    this.readyState = 3\n\n\t    if (typeof url !== 'string' || !/(^ws:\\/\\/)|(^wss:\\/\\/)/.test(url)) {\n\t      throw new TypeError('Failed to construct \\'WebSocket\\': The URL \\'' + url + '\\' is invalid')\n\t    }\n\n\t    this.url = url\n\t    this.readyState = WebSocket.CONNECTING\n\n\t    var socketTask = wx.connectSocket({\n\t      url: url,\n\t      protocols: Array.isArray(protocols) ? protocols : [protocols]\n\t    })\n\n\t    _socketTask.set(this, socketTask)\n\n\t    socketTask.onClose(function (res) {\n\t      _this.readyState = WebSocket.CLOSED\n\t      if (typeof _this.onclose === 'function') {\n\t        _this.onclose(res)\n\t      }\n\t    })\n\n\t    socketTask.onMessage(function (res) {\n\t      if (typeof _this.onmessage === 'function') {\n\t        _this.onmessage(res)\n\t      }\n\t    })\n\n\t    socketTask.onOpen(function () {\n\t      _this.readyState = WebSocket.OPEN\n\t      if (typeof _this.onopen === 'function') {\n\t        _this.onopen()\n\t      }\n\t    })\n\n\t    socketTask.onError(function (res) {\n\t      if (typeof _this.onerror === 'function') {\n\t        _this.onerror(new Error(res.errMsg))\n\t      }\n\t    })\n\n\t    return this\n\t  } // TODO 小程序内目前获取不到，实际上需要根据服务器选择的 sub-protocol 返回\n\t  // TODO 更新 bufferedAmount\n\t  // The connection is closed or couldn't be opened.\n\n\t  // The connection is open and ready to communicate.\n\n\n\t  _createClass(WebSocket, [{\n\t    key: 'close',\n\t    value: function close(code, reason) {\n\t      this.readyState = WebSocket.CLOSING\n\t      var socketTask = _socketTask.get(this)\n\n\t      socketTask.close({\n\t        code: code,\n\t        reason: reason\n\t      })\n\t    }\n\t  }, {\n\t    key: 'send',\n\t    value: function send(data) {\n\t      if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {\n\t        throw new TypeError('Failed to send message: The data ' + data + ' is invalid')\n\t      }\n\n\t      var socketTask = _socketTask.get(this)\n\n\t      socketTask.send({\n\t        data: data\n\t      })\n\t    }\n\t  }])\n\n\t  return WebSocket\n\t}()\n\n\tWebSocket.CONNECTING = 0\n\tWebSocket.OPEN = 1\n\tWebSocket.CLOSING = 2\n\tWebSocket.CLOSED = 3\n\texports.default = WebSocket\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n\t\"use strict\"\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\") } }\n\n\t/*\n\t * TODO 使用 wx.readFile 来封装 FileReader\n\t */\n\tvar FileReader = function FileReader() {\n\t  _classCallCheck(this, FileReader)\n\t}\n\n\texports.default = FileReader\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\t\"use strict\"\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\tvar localStorage = {\n\t  get length() {\n\t    var _wx$getStorageInfoSyn = wx.getStorageInfoSync(),\n\t        keys = _wx$getStorageInfoSyn.keys\n\n\t    return keys.length\n\t  },\n\n\t  key: function key(n) {\n\t    var _wx$getStorageInfoSyn2 = wx.getStorageInfoSync(),\n\t        keys = _wx$getStorageInfoSyn2.keys\n\n\t    return keys[n]\n\t  },\n\t  getItem: function getItem(key) {\n\t    return wx.getStorageSync(key)\n\t  },\n\t  setItem: function setItem(key, value) {\n\t    return wx.setStorageSync(key, value)\n\t  },\n\t  removeItem: function removeItem(key) {\n\t    wx.removeStorageSync(key)\n\t  },\n\t  clear: function clear() {\n\t    wx.clearStorageSync()\n\t  }\n\t}\n\n\texports.default = localStorage\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n\t'use strict'\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t})\n\tvar location = {\n\t  href: 'game.js',\n\t  reload: function reload() {}\n\t}\n\n\texports.default = location\n\n/***/ })\n/******/ ])"],"sourceRoot":""}